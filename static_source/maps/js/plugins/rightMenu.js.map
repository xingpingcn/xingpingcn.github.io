{"version":3,"sources":["js/plugins/rightMenu.js"],"names":["_typeof19","obj","Symbol","iterator","constructor","prototype","_typeof18","e","_typeof17","_typeof16","_typeof15","_typeof14","_typeof13","_typeof12","_typeof11","_typeof10","_typeof9","_typeof8","_typeof7","_typeof6","_typeof5","_typeof4","_typeof3","_typeof2","_typeof","_regeneratorRuntime","t","Object","o","hasOwnProperty","n","defineProperty","value","r","i","l","asyncIterator","c","toStringTag","u","enumerable","configurable","writable","L","a","s","create","w","_","y","type","arg","call","wrap","f","p","m","d","this","b","getPrototypeOf","h","D","g","v","forEach","_invoke","S","resolve","__await","then","Error","x","method","delegate","M","sent","_sent","dispatchException","abrupt","done","undefined","TypeError","resultName","next","nextLoc","C","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","push","O","completion","reset","isNaN","length","displayName","isGeneratorFunction","name","mark","setPrototypeOf","__proto__","awrap","AsyncIterator","async","Promise","keys","reverse","pop","values","prev","charAt","slice","stop","rval","complete","finish","catch","delegateYield","_defineProperty","_toPropertyKey","_toPrimitive","String","toPrimitive","Number","asyncGeneratorStep","_asyncToGenerator","arguments","apply","RightMenu","volantis","GLOBAL_CONFIG","plugins","rightmenu","message","enable","document","getElementById","querySelectorAll","querySelector","init","DOMController","visible","parentNode","removeChild","createElement","className","id","window","body","appendChild","initEvent","oncontextmenu","ctrlKey","offsetWidth","hideMenu","popMenu","stopPropagation","preventDefault","removeEventListener","addEventListener","onclick","RightMenuAplayer","aplayerBackward","aplayerToggle","aplayerForward","clientX","clientY","documentElement","clientWidth","clientHeight","setMenuItem","focus","style","zIndex","offsetHeight","left","top","notice","showMessage","blur","console","error","localStorage","getItem","VolantisApp","icon","faicon","time","setItem","target","getSelection","toString","tagName","toLowerCase","select","selectionStart","selectionEnd","copyString","substring","readClipboard","insertAtCaret","href","test","open","currentSrc","trimEnd","endsWith","writeClipImg","OpenSearch","location","pathname","question","printHtml","readingModel","aplayer","APlayer","player","music_alwaysShow","status","layout","includes","checkAPlayer","utilWriteClipText","messageCopyright","writeClipText","navigator","clipboard","writeText","reject","setAttribute","execCommand","customPicUrl","replace","old","parentElement","fetch","blob","write","ClipboardItem","t0","createTextRange","moveToElementText","createRange","selectNodeContents","removeAllRanges","addRange","permissions","query","state","readText","selection","text","scrollTop","isReadModel","remove","setStyle","setTimeout","print","innerHTML","reload","ScrollReveal","clean","fadeToggle","toggleClass","backgroundColor","hasClass","destroy","freeze","requestAnimationFrame","readyState","pjax","send"],"mappings":"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","file":"../../../js/plugins/rightMenu.js","sourcesContent":["const RightMenu = (() => {\n  const\n    rightMenuConfig = volantis.GLOBAL_CONFIG.plugins.rightmenu,\n    messageRightMenu = volantis.GLOBAL_CONFIG.plugins.message.enable && volantis.GLOBAL_CONFIG.plugins.message.rightmenu.enable;\n\n  const\n    fn = {},\n    _rightMenuWrapper = document.getElementById('rightmenu-wrapper'),\n    _rightMenuContent = document.getElementById('rightmenu-content'),\n    _printHtml = document.getElementById('printHtml'),\n    _menuMusic = document.getElementById('menuMusic'),\n    _readingModel = document.getElementById('readingModel'),\n    _readBkg = document.getElementById('read_bkg');\n\n  const\n    _menuLoad = document.querySelectorAll('.menuLoad-Content'),\n    _menuOption = document.querySelector('.menu-Option'),\n    _searchWord = document.querySelector('.menu-Option[data-fn-type=\"searchWord\"]'),\n    _copyText = document.querySelector('.menu-Option[data-fn-type=\"copyText\"]'),\n    _copyPaste = document.querySelector('.menu-Option[data-fn-type=\"copyPaste\"]'),\n    _copySelect = document.querySelector('.menu-Option[data-fn-type=\"copySelect\"]'),\n    _copyCut = document.querySelector('.menu-Option[data-fn-type=\"copyCut\"]'),\n    _copyHref = document.querySelector('.menu-Option[data-fn-type=\"copyHref\"]'),\n    _copySrc = document.querySelector('.menu-Option[data-fn-type=\"copySrc\"]'),\n    _copyImg = document.querySelector('.menu-Option[data-fn-type=\"copyImg\"]'),\n    _openTab = document.querySelector('.menu-Option[data-fn-type=\"openTab\"]'),\n    _backward = document.querySelector('#menuMusic .backward'),\n    _toggle = document.querySelector('#menuMusic .toggle'),\n    _forward = document.querySelector('#menuMusic .forward');\n\n  const urlRegx = /^((https|http)?:\\/\\/)+[A-Za-z0-9]+\\.[A-Za-z0-9]+[\\/=\\?%\\-&_~`@[\\]\\':+!]*([^<>\\\"\\\"])*$/;\n\n  fn.init = () => {\n    DOMController.visible(_menuMusic, false);\n    DOMController.visible(_menuOption, false);\n    if (_readBkg) _readBkg.parentNode.removeChild(_readBkg);\n\n    const readBkg = document.createElement(\"div\");\n    readBkg.className = \"common_read_bkg common_read_hide\";\n    readBkg.id = \"read_bkg\";\n    window.document.body.appendChild(readBkg);\n  }\n\n  fn.initEvent = () => {\n    window.document.oncontextmenu = (event) => {\n      if (event.ctrlKey || document.body.offsetWidth <= 500) {\n        fn.hideMenu();\n        return true;\n      }\n      return fn.popMenu(event);\n    }\n\n    _rightMenuWrapper.oncontextmenu = (event) => {\n      event.stopPropagation();\n      event.preventDefault();\n      return false;\n    }\n\n    window.removeEventListener('blur', fn.hideMenu);\n    window.addEventListener('blur', fn.hideMenu);\n    document.body.removeEventListener('click', fn.hideMenu);\n    document.body.addEventListener('click', fn.hideMenu);\n\n    if (_forward && _toggle && _forward) {\n      _backward.onclick = (e) => {\n        e.preventDefault();\n        e.stopPropagation();\n        RightMenuAplayer.aplayerBackward();\n      }\n      _toggle.onclick = (e) => {\n        e.preventDefault();\n        e.stopPropagation();\n        RightMenuAplayer.aplayerToggle();\n      }\n      _forward.onclick = (e) => {\n        e.preventDefault();\n        e.stopPropagation();\n        RightMenuAplayer.aplayerForward();\n      }\n    }\n  }\n\n  // 菜单位置设定\n  fn.popMenu = (event) => {\n    let mouseClientX = event.clientX;\n    let mouseClientY = event.clientY;\n    let screenWidth = document.documentElement.clientWidth || document.body.clientWidth;\n    let screenHeight = document.documentElement.clientHeight || document.body.clientHeight;\n\n    try {\n      fn.setMenuItem(event);\n      DOMController.visible(_rightMenuWrapper);\n      _rightMenuWrapper.focus();\n      _rightMenuWrapper.style.zIndex = '-2147483648';\n      let menuWidth = _rightMenuContent.offsetWidth;\n      let menuHeight = _rightMenuContent.offsetHeight;\n      let showLeft = mouseClientX + menuWidth > screenWidth ? mouseClientX - menuWidth + 10 : mouseClientX;\n      let showTop = mouseClientY + menuHeight > screenHeight ? mouseClientY - menuHeight + 10 : mouseClientY;\n      showTop = mouseClientY + menuHeight > screenHeight && showTop < menuHeight && mouseClientY < menuHeight ?\n        showTop + (screenHeight - menuHeight - showTop - 10) : showTop;\n      _rightMenuWrapper.style.left = showLeft + \"px\";\n      _rightMenuWrapper.style.top = showTop + \"px\";\n      _rightMenuWrapper.style.zIndex = '2147483648';\n      if (volantis.GLOBAL_CONFIG.plugins.message.rightmenu.notice) fn.showMessage();\n    } catch (error) {\n      _rightMenuWrapper.blur();\n      console.error(error);\n      return true;\n    }\n\n    return false;\n  }\n\n  // 消息提示\n  fn.showMessage = () => {\n    const NoticeRightMenu = localStorage.getItem('NoticeRightMenu') === 'true';\n    if (messageRightMenu && !NoticeRightMenu)\n      VolantisApp.message('右键菜单', '唤醒原系统菜单请使用：<kbd>Ctrl</kbd> + <kbd>右键</kbd>', {\n        icon: rightMenuConfig.faicon + ' fa-exclamation-square red',\n        time: 9000\n      }, () => {\n        localStorage.setItem('NoticeRightMenu', 'true')\n      });\n  }\n\n  // 菜单项设置\n  fn.setMenuItem = (event) => {\n    let optionFlag = false;\n    const eventTarget = event.target;\n    const selectText = window.getSelection().toString();\n    DOMController.visible(_openTab, false); // 隐藏新标签页打开\n\n    // 判断是否是输入框\n    if (eventTarget.tagName.toLowerCase() === 'input' || eventTarget.tagName.toLowerCase() === 'textarea') {\n      const inputStr = eventTarget.value;\n\n      // 全选\n      if (inputStr.length > 0) {\n        DOMController.visible(_copySelect);\n        _copySelect.onclick = () => {\n          event.preventDefault();\n          eventTarget.select();\n        }\n      } else {\n        DOMController.visible(_copySelect, false);\n      }\n\n      // 剪切\n      if (selectText) {\n        DOMController.visible(_copyCut);\n        _copyCut.onclick = () => {\n          const statrPos = eventTarget.selectionStart;\n          const endPos = eventTarget.selectionEnd;\n          fn.copyString(selectText);\n          eventTarget.value = inputStr.substring(0, statrPos) + inputStr.substring(endPos, inputStr.length);\n          eventTarget.selectionStart = statrPos;\n          eventTarget.selectionEnd = statrPos;\n          eventTarget.focus();\n        }\n      } else {\n        DOMController.visible(_copyCut, false);\n      }\n\n      // 粘贴\n      fn.readClipboard().then(text => {\n        // 如果剪切板存在内容\n        if (!!text) {\n          DOMController.visible(_copyPaste);\n          _copyPaste.onclick = () => {\n            fn.insertAtCaret(eventTarget, text);\n          }\n        } else {\n          DOMController.visible(_copyPaste, false);\n        }\n      }).catch((err) => {\n        console.error(err);\n        DOMController.visible(_copyPaste, false);\n      });\n    } else {\n      DOMController.visible(_copySelect, false);\n      DOMController.visible(_copyPaste, false);\n      DOMController.visible(_copyCut, false);\n    }\n\n    // 新标签打开链接\n    const eventHref = eventTarget.href;\n    if (!!eventHref && urlRegx.test(eventHref)) {\n      optionFlag = true;\n      DOMController.visible(_copyHref);\n      DOMController.visible(_openTab);\n      if (_copyHref) _copyHref.onclick = () => {\n        fn.copyString(eventHref);\n      }\n      _openTab.onclick = () => {\n        window.open(eventHref);\n      }\n    } else {\n      DOMController.visible(_copyHref, false);\n    }\n\n    // 新标签打开图片 & 复制图片链接\n    const eventSrc = eventTarget.currentSrc;\n    if (!!eventSrc && urlRegx.test(eventSrc)) {\n      optionFlag = true;\n      DOMController.visible(_copySrc);\n      DOMController.visible(_openTab);\n\n      _copySrc.onclick = () => {\n        fn.copyString(eventSrc);\n      }\n\n      _openTab.onclick = () => {\n        window.open(eventSrc);\n      }\n    } else {\n      DOMController.visible(_copySrc, false);\n    }\n\n    // 复制图片\n    if (!!eventSrc && urlRegx.test(eventSrc) && eventSrc.trimEnd().endsWith('.png')) {\n      optionFlag = true;\n      DOMController.visible(_copyImg);\n\n      _copyImg.onclick = () => {\n        fn.writeClipImg(event, flag => {\n          if (flag && messageRightMenu) VolantisApp.message('系统提示', '图片复制成功！', {\n            icon: rightMenuConfig.faicon + ' fa-images'\n          });\n        }, (error) => {\n          if (messageRightMenu) VolantisApp.message('系统提示', '复制失败：' + error, {\n            icon: rightMenuConfig.faicon + ' fa-exclamation-square red'\n          });\n        })\n      }\n    } else {\n      DOMController.visible(_copyImg, false);\n    }\n\n    // 复制文本\n    if (selectText) {\n      optionFlag = true;\n      DOMController.visible(_copyText);\n      DOMController.visible(_searchWord);\n\n      _copyText.onclick = () => {\n        fn.copyString(selectText);\n      }\n\n      !!_searchWord && (_searchWord.onclick = () => {\n        OpenSearch(selectText);\n      })\n    } else {\n      DOMController.visible(_copyText, false);\n      DOMController.visible(_searchWord, false);\n    }\n\n    // 打印\n    const _printArticle = document.querySelector('#post.article') || null;\n    const pathName = window.location.pathname;\n    if (!!_printArticle) {\n      DOMController.visible(_printHtml);\n      DOMController.visible(_readingModel);\n\n      if (_printHtml) {\n        _printHtml.onclick = () => {\n          if (window.location.pathname === pathName) {\n            const message = '是否打印当前页面？<br><em style=\"font-size: 80%\">建议打印时勾选背景图形</em><br>';\n            if (messageRightMenu) VolantisApp.question('', message, {}, () => {\n              fn.printHtml();\n            })\n          } else {\n            fn.hideMenu();\n          }\n        }\n      }\n\n      if (_readingModel) {\n        _readingModel.onclick = () => {\n          if (window.location.pathname === pathName) {\n            fn.readingModel();\n          } else {\n            fn.readingModel();\n          }\n        }\n      }\n\n    } else {\n      DOMController.visible(_printHtml, false);\n      DOMController.visible(_readingModel, false);\n    }\n\n    if (volantis.GLOBAL_CONFIG.plugins.aplayer.enable\n      && typeof RightMenuAplayer !== 'undefined'\n      && RightMenuAplayer.APlayer.player !== undefined) {\n      if (rightMenuConfig.music_alwaysShow) {\n        DOMController.visible(_menuMusic);\n      } else if (RightMenuAplayer.APlayer.status === 'play' || RightMenuAplayer.APlayer.status === 'undefined') {\n        optionFlag = true;\n        DOMController.visible(_menuMusic);\n      } else {\n        DOMController.visible(_menuMusic, false);\n      }\n    } else {\n      DOMController.visible(_menuMusic, false);\n    }\n\n    _menuLoad.forEach(ele => {\n      DOMController.visible(ele, !optionFlag);\n    })\n\n    if (volantis.GLOBAL_CONFIG.plugins.aplayer.enable\n      && rightMenuConfig.layout.includes('music')) {\n      RightMenuAplayer.checkAPlayer();\n    }\n  }\n\n  // 隐藏菜单\n  fn.hideMenu = () => {\n    DOMController.visible(_rightMenuWrapper, false);\n  }\n\n  // 复制字符串\n  fn.copyString = (str) => {\n    VolantisApp.utilWriteClipText(str)\n      .then(() => {\n        if (messageRightMenu) {\n          VolantisApp.messageCopyright();\n        }\n      }).catch(e => {\n        if (messageRightMenu) {\n          VolantisApp.message('系统提示', e, {\n            icon: rightMenuConfig.faicon + ' fa-exclamation-square red'\n          });\n        }\n      })\n  }\n\n  // 写入文本到剪切板\n  fn.writeClipText = (str) => {\n    try {\n      return navigator.clipboard\n        .writeText(str)\n        .then(() => {\n          return Promise.resolve()\n        })\n        .catch(err => {\n          return Promise.reject(err)\n        })\n    } catch (e) {\n      const input = document.createElement('input');\n      input.setAttribute('readonly', 'readonly');\n      document.body.appendChild(input);\n      input.setAttribute('value', str);\n      input.select();\n      try {\n        let result = document.execCommand('copy')\n        document.body.removeChild(input);\n        if (!result || result === 'unsuccessful') {\n          return Promise.reject('复制文本失败!')\n        } else {\n          return Promise.resolve()\n        }\n      } catch (e) {\n        document.body.removeChild(input);\n        return Promise.reject(\n          '当前浏览器不支持复制功能，请检查更新或更换其他浏览器操作!'\n        )\n      }\n    }\n  }\n\n  // 写入图片到剪切板\n  fn.writeClipImg = async function (event, success, error) {\n    const eventSrc = rightMenuConfig.customPicUrl.enable ?\n      event.target.currentSrc.replace(rightMenuConfig.customPicUrl.old, rightMenuConfig.customPicUrl.new) :\n      event.target.currentSrc;\n    const parentElement = event.target.parentElement;\n    try {\n      const data = await fetch(eventSrc);\n      const blob = await data.blob();\n      await navigator.clipboard\n        .write([\n          new ClipboardItem({\n            [blob.type]: blob\n          })\n        ]).then(() => {\n          success(true);\n        }, (e) => {\n          console.error('图片复制失败：', e);\n          error(e);\n        });\n    } catch (e) {\n      const dom = document;\n      try {\n        if (dom.body.createTextRange) {\n          const textRange = document.body.createTextRange();\n          textRange.moveToElementText(parentElement);\n          textRange.select();\n        } else if (window.getSelection) {\n          const selection = window.getSelection();\n          const range = document.createRange();\n          range.selectNodeContents(parentElement);\n          selection.removeAllRanges();\n          selection.addRange(range);\n        }\n        document.execCommand('copy');\n        window.getSelection().removeAllRanges();\n        success(false);\n      } catch (e) {\n        console.error(e);\n        error('不支持复制当前图片！');\n      }\n    }\n  }\n\n  // 请求读取剪切板\n  fn.readClipboard = async () => {\n    const result = await navigator.permissions.query({\n      name: 'clipboard-read'\n    });\n    if (result.state === 'granted' || result.state === 'prompt') {\n      // 修改为 .read()  可以获取剪切板中的文字/图片\n      // 返回的是 ClipboardItem\n      return navigator.clipboard\n        .readText()\n        .then(text => text)\n        .catch(err => Promise.reject(err));\n    }\n    return Promise.reject(result);\n  }\n\n  // 粘贴文本\n  fn.insertAtCaret = (elemt, value) => {\n    const startPos = elemt.selectionStart,\n      endPos = elemt.selectionEnd;\n    if (document.selection) {\n      elemt.focus();\n      var sel = document.selection.createRange();\n      sel.text = value;\n      elemt.focus();\n    } else {\n      if (startPos || startPos == '0') {\n        var scrollTop = elemt.scrollTop;\n        elemt.value = elemt.value.substring(0, startPos) + value + elemt.value.substring(endPos, elemt.value.length);\n        elemt.focus();\n        elemt.selectionStart = startPos + value.length;\n        elemt.selectionEnd = startPos + value.length;\n        elemt.scrollTop = scrollTop;\n      } else {\n        elemt.value += value;\n        elemt.focus();\n      }\n    }\n  }\n\n  // 执行打印页面\n  fn.printHtml = () => {\n    if (volantis.isReadModel) fn.readingModel();\n    DOMController.setAttribute('details', 'open', 'true');\n    DOMController.remove('.cus-article-bkg');\n    DOMController.remove('.iziToast-overlay');\n    DOMController.remove('.iziToast-wrapper');\n    DOMController.remove('.prev-next');\n    DOMController.remove('footer');\n    DOMController.remove('#l_header');\n    DOMController.remove('#l_cover');\n    DOMController.remove('#l_side');\n    DOMController.remove('#comments');\n    DOMController.remove('#s-top');\n    DOMController.remove('#BKG');\n    DOMController.remove('#rightmenu-wrapper');\n    DOMController.remove('.nav-tabs');\n    DOMController.remove('.parallax-mirror');\n    DOMController.remove('.new-meta-item.share');\n    DOMController.remove('div.footer');\n    DOMController.setStyle('body', 'backgroundColor', 'unset');\n    DOMController.setStyle('#l_main', 'width', '100%');\n    DOMController.setStyle('#post', 'boxShadow', 'none');\n    DOMController.setStyle('#post', 'background', 'none');\n    DOMController.setStyle('#post', 'padding', '0');\n    DOMController.setStyle('h1', 'textAlign', 'center');\n    DOMController.setStyle('h1', 'fontWeight', '600');\n    DOMController.setStyle('h1', 'fontSize', '2rem');\n    DOMController.setStyle('h1', 'marginBottom', '20px');\n    DOMController.setStyle('.tab-pane', 'display', 'block');\n    DOMController.setStyle('.tab-content', 'borderTop', 'none');\n    DOMController.setStyle('.highlight>table pre', 'whiteSpace', 'pre-wrap');\n    DOMController.setStyle('.highlight>table pre', 'wordBreak', 'break-all');\n    DOMController.setStyle('.fancybox img', 'height', 'auto');\n    DOMController.setStyle('.fancybox img', 'weight', 'auto');\n\n    setTimeout(() => {\n      window.print();\n      document.body.innerHTML = '';\n      window.location.reload();\n    }, 50);\n  }\n\n  // 阅读模式\n  fn.readingModel = () => {\n    if (typeof ScrollReveal === 'function') ScrollReveal().clean('#comments');\n    DOMController.fadeToggle(document.querySelector('#l_header'))\n    DOMController.fadeToggle(document.querySelector('footer'))\n    DOMController.fadeToggle(document.querySelector('#s-top'))\n    DOMController.fadeToggle(document.querySelector('.article-meta#bottom'))\n    DOMController.fadeToggle(document.querySelector('.prev-next'))\n    DOMController.fadeToggle(document.querySelector('#l_side'))\n    DOMController.fadeToggle(document.querySelector('#comments'))\n\n    DOMController.toggleClass(document.querySelector('#l_main'), 'common_read')\n    DOMController.toggleClass(document.querySelector('#l_main'), 'common_read_main')\n    DOMController.toggleClass(document.querySelector('#l_body'), 'common_read')\n    DOMController.toggleClass(document.querySelector('#safearea'), 'common_read')\n    DOMController.toggleClass(document.querySelector('#pjax-container'), 'common_read')\n    DOMController.toggleClass(document.querySelector('#read_bkg'), 'common_read_hide')\n    DOMController.toggleClass(document.querySelector('h1'), 'common_read_h1')\n    DOMController.toggleClass(document.querySelector('#post'), 'post_read')\n    DOMController.toggleClass(document.querySelector('#l_cover'), 'read_cover')\n    DOMController.toggleClass(document.querySelector('.widget.toc-wrapper'), 'post_read')\n\n    volantis.isReadModel = volantis.isReadModel === undefined ? true : !volantis.isReadModel;\n    if (volantis.isReadModel) {\n      const option = {\n        backgroundColor: 'var(--color-read-post)',\n        icon: rightMenuConfig.faicon + ' fa-book-reader',\n        time: 5000\n      }\n      if (messageRightMenu) VolantisApp.message('系统提示', '阅读模式已开启，您可以点击屏幕空白处退出。', option);\n      document.querySelector('#l_body').removeEventListener('click', fn.readingModel);\n      document.querySelector('#l_body').addEventListener('click', (event) => {\n        if (DOMController.hasClass(event.target, 'common_read')) {\n          fn.readingModel();\n        }\n      });\n    } else {\n      document.querySelector('#l_body').removeEventListener('click', fn.readingModel);\n      document.querySelector('#post').removeEventListener('click', fn.readingModel);\n    }\n  }\n\n  return {\n    init: (notice = false) => {\n      fn.init();\n      fn.initEvent();\n      if (notice && messageRightMenu) VolantisApp.message('系统提示', '自定义右键注册成功。');\n    },\n    destroy: (notice = false) => {\n      fn.hideMenu();\n      window.document.oncontextmenu = () => {\n        return true\n      };\n      if (notice && messageRightMenu) VolantisApp.message('系统提示', '自定义右键注销成功。');\n    },\n    hideMenu: fn.hideMenu,\n    readingModel: fn.readingModel\n  }\n})()\n\nObject.freeze(RightMenu);\n\nvolantis.requestAnimationFrame(() => {\n  if (document.readyState !== 'loading') {\n    RightMenu.init();\n\n    volantis.pjax.send(() => {\n      RightMenu.hideMenu();\n    })\n  } else {\n    document.addEventListener(\"DOMContentLoaded\", function () {\n      RightMenu.init();\n\n      volantis.pjax.send(() => {\n        RightMenu.hideMenu();\n      })\n    })\n  }\n});\n"]}
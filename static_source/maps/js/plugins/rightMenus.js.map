{"version":3,"sources":["js/plugins/rightMenus.js"],"names":["_typeof9","obj","Symbol","iterator","constructor","prototype","_typeof8","e","_typeof7","_typeof6","_typeof5","_typeof4","_typeof3","_typeof2","_typeof","_regeneratorRuntime","t","Object","n","hasOwnProperty","o","defineProperty","value","r","i","a","asyncIterator","u","toStringTag","c","enumerable","configurable","writable","E","l","d","create","k","M","s","type","arg","call","wrap","p","f","m","y","this","h","getPrototypeOf","g","L","v","b","forEach","_invoke","_","resolve","__await","then","Error","R","method","delegate","w","sent","_sent","dispatchException","abrupt","done","undefined","TypeError","resultName","next","nextLoc","S","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","push","x","completion","reset","isNaN","length","displayName","isGeneratorFunction","name","mark","setPrototypeOf","__proto__","awrap","AsyncIterator","async","Promise","keys","reverse","pop","values","prev","charAt","slice","stop","rval","complete","finish","catch","delegateYield","asyncGeneratorStep","_asyncToGenerator","arguments","apply","RightMenus","defaultEvent","defaultGroup","messageRightMenu","volantis","GLOBAL_CONFIG","plugins","message","enable","rightmenu","corsAnywhere","rightmenus","options","urlRegx","imgRegx","initialMenu","fun","init","pjax","send","hideMenu","isReadModel","readMode","readClipboard","navigator","permissions","query","t0","state","clipboard","readText","window","clipboardRead","writeClipText","writeText","reject","writeClipImg","Image","crossOrigin","addEventListener","document","createElement","getContext","width","height","drawImage","toBlob","write","ClipboardItem","src","concat","insertAtCaret","selectionStart","selectionEnd","selection","focus","createRange","text","scrollTop","substring","getElementById","querySelectorAll","querySelector","mouseEvent","isInputBox","selectText","inputValue","isLink","linkUrl","isMediaLink","mediaLinkUrl","isImage","isArticle","pathName","isReadClipboard","isShowMusic","statusCheck","assign","initEvent","elementAppend","contextmenu","menuEvent","parentNode","removeChild","className","id","body","appendChild","menuPosition","clientX","clientY","documentElement","clientWidth","clientHeight","style","display","menuControl","offsetWidth","offsetHeight","left","top","notice","menuNotic","console","error","globalDataSet","firstElementChild","nodeName","getAttribute","articleShowLink","every","handle","start","item","hide","nextElementSibling","getSelection","toString","target","tagName","toLowerCase","href","test","currentSrc","location","pathname","aplayer","RightMenuAplayer","APlayer","player","musicAlwaysShow","status","oncontextmenu","ctrlKey","stopPropagation","preventDefault","removeEventListener","RightMenusFunction","debug","globalData","groupName","eventName","VolantisApp","icon","iconPrefix","time","onclick","aplayerBackward","aplayerToggle","aplayerForward","localStorage","getItem","displayMode","setItem","copyText","utilWriteClipText","messageCopyright","copyLink","copyAll","select","copyPaste","copyCut","copyImg","hideMessage","printMode","question","printHtml","DOMController","setAttribute","removeList","setStyleList","setTimeout","print","innerHTML","reload","ScrollReveal","clean","fadeToggleList","toggleClassList","setStyle","backgroundColor","hasClass","freeze","requestAnimationFrame","readyState"],"mappings":"AAAA,aAEA,SAAAA,SAAAC,GAAA,OAAAD,SAAA,mBAAAE,QAAA,iBAAAA,OAAAC,SAAA,SAAAF,GAAA,cAAAA,CAAA,EAAA,SAAAA,GAAA,OAAAA,GAAA,mBAAAC,QAAAD,EAAAG,cAAAF,QAAAD,IAAAC,OAAAG,UAAA,gBAAAJ,CAAA,EAAAD,SAAAC,EAAA,CAAA,SAAAK,SAAAC,GAAA,OAAAD,SAAA,mBAAAJ,QAAA,UAAAF,SAAAE,OAAAC,UAAA,SAAAI,GAAA,OAAAP,SAAAO,EAAA,EAAA,SAAAA,GAAA,OAAAA,GAAA,mBAAAL,QAAAK,EAAAH,cAAAF,QAAAK,IAAAL,OAAAG,UAAA,SAAAL,SAAAO,EAAA,EAAAD,SAAAC,EAAA,CAAA,SAAAC,SAAAD,GAAA,OAAAC,SAAA,mBAAAN,QAAA,UAAAI,SAAAJ,OAAAC,UAAA,SAAAI,GAAA,OAAAD,SAAAC,EAAA,EAAA,SAAAA,GAAA,OAAAA,GAAA,mBAAAL,QAAAK,EAAAH,cAAAF,QAAAK,IAAAL,OAAAG,UAAA,SAAAC,SAAAC,EAAA,EAAAC,SAAAD,EAAA,CAAA,SAAAE,SAAAF,GAAA,OAAAE,SAAA,mBAAAP,QAAA,UAAAM,SAAAN,OAAAC,UAAA,SAAAI,GAAA,OAAAC,SAAAD,EAAA,EAAA,SAAAA,GAAA,OAAAA,GAAA,mBAAAL,QAAAK,EAAAH,cAAAF,QAAAK,IAAAL,OAAAG,UAAA,SAAAG,SAAAD,EAAA,EAAAE,SAAAF,EAAA,CAAA,SAAAG,SAAAH,GAAA,OAAAG,SAAA,mBAAAR,QAAA,UAAAO,SAAAP,OAAAC,UAAA,SAAAI,GAAA,OAAAE,SAAAF,EAAA,EAAA,SAAAA,GAAA,OAAAA,GAAA,mBAAAL,QAAAK,EAAAH,cAAAF,QAAAK,IAAAL,OAAAG,UAAA,SAAAI,SAAAF,EAAA,EAAAG,SAAAH,EAAA,CAAA,SAAAI,SAAAJ,GAAA,OAAAI,SAAA,mBAAAT,QAAA,UAAAQ,SAAAR,OAAAC,UAAA,SAAAI,GAAA,OAAAG,SAAAH,EAAA,EAAA,SAAAA,GAAA,OAAAA,GAAA,mBAAAL,QAAAK,EAAAH,cAAAF,QAAAK,IAAAL,OAAAG,UAAA,SAAAK,SAAAH,EAAA,EAAAI,SAAAJ,EAAA,CAAA,SAAAK,SAAAL,GAAA,OAAAK,SAAA,mBAAAV,QAAA,UAAAS,SAAAT,OAAAC,UAAA,SAAAI,GAAA,OAAAI,SAAAJ,EAAA,EAAA,SAAAA,GAAA,OAAAA,GAAA,mBAAAL,QAAAK,EAAAH,cAAAF,QAAAK,IAAAL,OAAAG,UAAA,SAAAM,SAAAJ,EAAA,EAAAK,SAAAL,EAAA,CAAA,SAAAM,SAAAN,GAAA,OAAAM,SAAA,mBAAAX,QAAA,UAAAU,SAAAV,OAAAC,UAAA,SAAAI,GAAA,OAAAK,SAAAL,EAAA,EAAA,SAAAA,GAAA,OAAAA,GAAA,mBAAAL,QAAAK,EAAAH,cAAAF,QAAAK,IAAAL,OAAAG,UAAA,SAAAO,SAAAL,EAAA,EAAAM,SAAAN,EAAA,CAAA,SAASO,QAAQP,GAAkC,OAAOO,QAAU,mBAAqBZ,QAAU,UAAAW,SAAmBX,OAAOC,UAAW,SAAUI,GAAO,OAAAM,SAAcN,EAAK,EAAI,SAAUA,GAAO,OAAOA,GAAO,mBAAqBL,QAAUK,EAAIH,cAAgBF,QAAUK,IAAQL,OAAOG,UAAY,SAAAQ,SAAkBN,EAAK,EAAGO,QAAQP,EAAM,CAC/U,SAASQ,sBAFTA,oBAAA,WAAA,OAAAR,CAAA,EAAA,IAAAA,EAAA,CAAA,EAAAS,EAAAC,OAAAZ,UAAAa,EAAAF,EAAAG,eAAAC,EAAAH,OAAAI,gBAAA,SAAAd,EAAAS,EAAAE,GAAAX,EAAAS,GAAAE,EAAAI,KAAA,EAAAC,EAAA,mBAAArB,OAAAA,OAAA,CAAA,EAAAsB,EAAAD,EAAApB,UAAA,aAAAsB,EAAAF,EAAAG,eAAA,kBAAAC,EAAAJ,EAAAK,aAAA,gBAAA,SAAAC,EAAAtB,EAAAS,EAAAE,GAAA,OAAAD,OAAAI,eAAAd,EAAAS,EAAA,CAAAM,MAAAJ,EAAAY,YAAA,EAAAC,cAAA,EAAAC,UAAA,IAAAzB,EAAAS,EAAA,CAAA,IAAAa,EAAA,CAAA,EAAA,GAAA,CAAA,MAAAI,GAAAJ,EAAA,SAAAtB,EAAAS,EAAAE,GAAA,OAAAX,EAAAS,GAAAE,CAAA,CAAA,CAAA,SAAAgB,EAAA3B,EAAAS,EAAAE,EAAAK,GAAA,IAAAC,EAAAR,GAAAA,EAAAX,qBAAA8B,EAAAnB,EAAAmB,EAAAV,EAAAR,OAAAmB,OAAAZ,EAAAnB,WAAAsB,EAAA,IAAAU,EAAAd,GAAA,IAAA,OAAAH,EAAAK,EAAA,UAAA,CAAAH,MAAAgB,EAAA/B,EAAAW,EAAAS,KAAAF,CAAA,CAAA,SAAAc,EAAAhC,EAAAS,EAAAE,GAAA,IAAA,MAAA,CAAAsB,KAAA,SAAAC,IAAAlC,EAAAmC,KAAA1B,EAAAE,GAAA,CAAA,MAAAe,GAAA,MAAA,CAAAO,KAAA,QAAAC,IAAAR,EAAA,CAAA,CAAA1B,EAAAoC,KAAAT,EAAA,IAAAU,EAAA,CAAA,EAAA,SAAAT,IAAA,CAAA,SAAAU,IAAA,CAAA,SAAAC,IAAA,CAAA,IAAAC,EAAA,CAAA,EAAAlB,EAAAkB,EAAAvB,GAAA,WAAA,OAAAwB,IAAA,IAAA,IAAAC,EAAAhC,OAAAiC,eAAAC,EAAAF,GAAAA,EAAAA,EAAAG,EAAA,MAAAD,GAAAA,IAAAnC,GAAAE,EAAAwB,KAAAS,EAAA3B,KAAAuB,EAAAI,GAAA,IAAAE,EAAAP,EAAAzC,UAAA8B,EAAA9B,UAAAY,OAAAmB,OAAAW,GAAA,SAAAO,EAAA/C,GAAA,CAAA,OAAA,QAAA,UAAAgD,SAAA,SAAAvC,GAAAa,EAAAtB,EAAAS,GAAA,SAAAT,GAAA,OAAAyC,KAAAQ,QAAAxC,EAAAT,EAAA,GAAA,GAAA,CAAA,SAAAkD,EAAAlD,EAAAS,GAAA,SAAAO,EAAAH,EAAAI,EAAAC,EAAAE,GAAA,IAAAE,EAAAU,EAAAhC,EAAAa,GAAAb,EAAAiB,GAAA,GAAA,UAAAK,EAAAW,KAAA,CAAA,IAAAN,EAAAL,EAAAY,IAAAG,EAAAV,EAAAZ,MAAA,OAAAsB,GAAA,UAAA9B,QAAA8B,IAAA1B,EAAAwB,KAAAE,EAAA,WAAA5B,EAAA0C,QAAAd,EAAAe,SAAAC,MAAA,SAAArD,GAAAgB,EAAA,OAAAhB,EAAAkB,EAAAE,EAAA,IAAA,SAAApB,GAAAgB,EAAA,QAAAhB,EAAAkB,EAAAE,EAAA,IAAAX,EAAA0C,QAAAd,GAAAgB,MAAA,SAAArD,GAAA2B,EAAAZ,MAAAf,EAAAkB,EAAAS,EAAA,IAAA,SAAA3B,GAAA,OAAAgB,EAAA,QAAAhB,EAAAkB,EAAAE,EAAA,GAAA,CAAAA,EAAAE,EAAAY,IAAA,CAAA,IAAAjB,EAAAJ,EAAA4B,KAAA,UAAA,CAAA1B,MAAA,SAAAf,EAAAW,GAAA,SAAAE,IAAA,OAAA,IAAAJ,GAAA,SAAAA,EAAAI,GAAAG,EAAAhB,EAAAW,EAAAF,EAAAI,EAAA,GAAA,CAAA,OAAAI,EAAAA,EAAAA,EAAAoC,KAAAxC,EAAAA,GAAAA,GAAA,GAAA,CAAA,SAAAkB,EAAA/B,EAAAS,EAAAE,GAAA,IAAAE,EAAA,iBAAA,OAAA,SAAAG,EAAAC,GAAA,GAAA,cAAAJ,EAAA,MAAA,IAAAyC,MAAA,gCAAA,GAAA,cAAAzC,EAAA,CAAA,GAAA,UAAAG,EAAA,MAAAC,EAAA,OAAAsC,GAAA,CAAA,IAAA5C,EAAA6C,OAAAxC,EAAAL,EAAAuB,IAAAjB,IAAA,CAAA,IAAAC,EAAAP,EAAA8C,SAAA,GAAAvC,EAAA,CAAA,IAAAE,EAAAsC,EAAAxC,EAAAP,GAAA,GAAAS,EAAA,CAAA,GAAAA,IAAAiB,EAAA,SAAA,OAAAjB,CAAA,CAAA,CAAA,GAAA,SAAAT,EAAA6C,OAAA7C,EAAAgD,KAAAhD,EAAAiD,MAAAjD,EAAAuB,SAAA,GAAA,UAAAvB,EAAA6C,OAAA,CAAA,GAAA,mBAAA3C,EAAA,MAAAA,EAAA,YAAAF,EAAAuB,IAAAvB,EAAAkD,kBAAAlD,EAAAuB,IAAA,KAAA,WAAAvB,EAAA6C,QAAA7C,EAAAmD,OAAA,SAAAnD,EAAAuB,KAAArB,EAAA,YAAA,IAAAS,EAAAU,EAAAhC,EAAAS,EAAAE,GAAA,GAAA,WAAAW,EAAAW,KAAA,CAAA,GAAApB,EAAAF,EAAAoD,KAAA,YAAA,iBAAAzC,EAAAY,MAAAG,EAAA,SAAA,MAAA,CAAAtB,MAAAO,EAAAY,IAAA6B,KAAApD,EAAAoD,KAAA,CAAA,UAAAzC,EAAAW,OAAApB,EAAA,YAAAF,EAAA6C,OAAA,QAAA7C,EAAAuB,IAAAZ,EAAAY,IAAA,CAAA,CAAA,CAAA,SAAAwB,EAAA1D,EAAAS,GAAA,IAAAE,EAAAF,EAAA+C,OAAA3C,EAAAb,EAAAJ,SAAAe,GAAA,GAAAqD,YAAAnD,EAAA,OAAAJ,EAAAgD,SAAA,KAAA,UAAA9C,GAAAX,EAAAJ,SAAA,YAAAa,EAAA+C,OAAA,SAAA/C,EAAAyB,IAAA8B,UAAAN,EAAA1D,EAAAS,GAAA,UAAAA,EAAA+C,SAAA,WAAA7C,IAAAF,EAAA+C,OAAA,QAAA/C,EAAAyB,IAAA,IAAA+B,UAAA,oCAAAtD,EAAA,aAAA0B,EAAA,IAAArB,EAAAgB,EAAAnB,EAAAb,EAAAJ,SAAAa,EAAAyB,KAAA,GAAA,UAAAlB,EAAAiB,KAAA,OAAAxB,EAAA+C,OAAA,QAAA/C,EAAAyB,IAAAlB,EAAAkB,IAAAzB,EAAAgD,SAAA,KAAApB,EAAA,IAAApB,EAAAD,EAAAkB,IAAA,OAAAjB,EAAAA,EAAA8C,MAAAtD,EAAAT,EAAAkE,YAAAjD,EAAAF,MAAAN,EAAA0D,KAAAnE,EAAAoE,QAAA,WAAA3D,EAAA+C,SAAA/C,EAAA+C,OAAA,OAAA/C,EAAAyB,IAAA8B,WAAAvD,EAAAgD,SAAA,KAAApB,GAAApB,GAAAR,EAAA+C,OAAA,QAAA/C,EAAAyB,IAAA,IAAA+B,UAAA,oCAAAxD,EAAAgD,SAAA,KAAApB,EAAA,CAAA,SAAAgC,EAAArE,GAAA,IAAAS,EAAA,CAAA6D,OAAAtE,EAAA,IAAA,KAAAA,IAAAS,EAAA8D,SAAAvE,EAAA,IAAA,KAAAA,IAAAS,EAAA+D,WAAAxE,EAAA,GAAAS,EAAAgE,SAAAzE,EAAA,IAAAyC,KAAAiC,WAAAC,KAAAlE,EAAA,CAAA,SAAAmE,EAAA5E,GAAA,IAAAS,EAAAT,EAAA6E,YAAA,CAAA,EAAApE,EAAAwB,KAAA,gBAAAxB,EAAAyB,IAAAlC,EAAA6E,WAAApE,CAAA,CAAA,SAAAqB,EAAA9B,GAAAyC,KAAAiC,WAAA,CAAA,CAAAJ,OAAA,SAAAtE,EAAAgD,QAAAqB,EAAA5B,MAAAA,KAAAqC,OAAA,EAAA,CAAA,SAAAjC,EAAA7C,GAAA,GAAAA,EAAA,CAAA,IAAAS,EAAAT,EAAAiB,GAAA,GAAAR,EAAA,OAAAA,EAAA0B,KAAAnC,GAAA,GAAA,mBAAAA,EAAAmE,KAAA,OAAAnE,EAAA,IAAA+E,MAAA/E,EAAAgF,QAAA,CAAA,IAAAnE,GAAA,EAAAG,EAAA,SAAAP,IAAA,OAAAI,EAAAb,EAAAgF,QAAA,GAAArE,EAAAwB,KAAAnC,EAAAa,GAAA,OAAAJ,EAAAM,MAAAf,EAAAa,GAAAJ,EAAAsD,MAAA,EAAAtD,EAAA,OAAAA,EAAAM,MAAAiD,UAAAvD,EAAAsD,MAAA,EAAAtD,CAAA,EAAA,OAAAO,EAAAmD,KAAAnD,CAAA,CAAA,CAAA,MAAA,CAAAmD,KAAAZ,EAAA,CAAA,SAAAA,IAAA,MAAA,CAAAxC,MAAAiD,UAAAD,MAAA,EAAA,CAAA,OAAAzB,EAAAxC,UAAAyC,EAAA1B,EAAAiC,EAAA,cAAA,CAAA/B,MAAAwB,EAAAf,cAAA,IAAAX,EAAA0B,EAAA,cAAA,CAAAxB,MAAAuB,EAAAd,cAAA,IAAAc,EAAA2C,YAAA3D,EAAAiB,EAAAnB,EAAA,qBAAApB,EAAAkF,oBAAA,SAAAlF,GAAA,IAAAS,EAAA,mBAAAT,GAAAA,EAAAH,YAAA,QAAAY,IAAAA,IAAA6B,GAAA,uBAAA7B,EAAAwE,aAAAxE,EAAA0E,MAAA,EAAAnF,EAAAoF,KAAA,SAAApF,GAAA,OAAAU,OAAA2E,eAAA3E,OAAA2E,eAAArF,EAAAuC,IAAAvC,EAAAsF,UAAA/C,EAAAjB,EAAAtB,EAAAoB,EAAA,sBAAApB,EAAAF,UAAAY,OAAAmB,OAAAiB,GAAA9C,CAAA,EAAAA,EAAAuF,MAAA,SAAAvF,GAAA,MAAA,CAAAoD,QAAApD,EAAA,EAAA+C,EAAAG,EAAApD,WAAAwB,EAAA4B,EAAApD,UAAAoB,GAAA,WAAA,OAAAuB,IAAA,IAAAzC,EAAAwF,cAAAtC,EAAAlD,EAAAyF,MAAA,SAAAhF,EAAAE,EAAAE,EAAAG,EAAAC,QAAA,IAAAA,IAAAA,EAAAyE,SAAA,IAAAxE,EAAA,IAAAgC,EAAAvB,EAAAlB,EAAAE,EAAAE,EAAAG,GAAAC,GAAA,OAAAjB,EAAAkF,oBAAAvE,GAAAO,EAAAA,EAAAiD,OAAAd,MAAA,SAAArD,GAAA,OAAAA,EAAA+D,KAAA/D,EAAAe,MAAAG,EAAAiD,MAAA,GAAA,EAAApB,EAAAD,GAAAxB,EAAAwB,EAAA1B,EAAA,aAAAE,EAAAwB,EAAA7B,GAAA,WAAA,OAAAwB,IAAA,IAAAnB,EAAAwB,EAAA,YAAA,WAAA,MAAA,oBAAA,IAAA9C,EAAA2F,KAAA,SAAA3F,GAAA,IAAAS,EAAAC,OAAAV,GAAAW,EAAA,GAAA,IAAA,IAAAE,KAAAJ,EAAAE,EAAAgE,KAAA9D,GAAA,OAAAF,EAAAiF,UAAA,SAAA5E,IAAA,KAAAL,EAAAqE,QAAA,CAAA,IAAAhF,EAAAW,EAAAkF,MAAA,GAAA7F,KAAAS,EAAA,OAAAO,EAAAD,MAAAf,EAAAgB,EAAA+C,MAAA,EAAA/C,CAAA,CAAA,OAAAA,EAAA+C,MAAA,EAAA/C,CAAA,CAAA,EAAAhB,EAAA8F,OAAAjD,EAAAf,EAAAhC,UAAA,CAAAD,YAAAiC,EAAAgD,MAAA,SAAA9E,GAAA,GAAAyC,KAAAsD,KAAA,EAAAtD,KAAA0B,KAAA,EAAA1B,KAAAkB,KAAAlB,KAAAmB,MAAAI,UAAAvB,KAAAsB,MAAA,EAAAtB,KAAAgB,SAAA,KAAAhB,KAAAe,OAAA,OAAAf,KAAAP,IAAA8B,UAAAvB,KAAAiC,WAAA1B,QAAA4B,IAAA5E,EAAA,IAAA,IAAAS,KAAAgC,KAAA,MAAAhC,EAAAuF,OAAA,IAAArF,EAAAwB,KAAAM,KAAAhC,KAAAsE,OAAAtE,EAAAwF,MAAA,MAAAxD,KAAAhC,GAAAuD,UAAA,EAAAkC,KAAA,WAAAzD,KAAAsB,MAAA,EAAA,IAAA/D,EAAAyC,KAAAiC,WAAA,GAAAG,WAAA,GAAA,UAAA7E,EAAAiC,KAAA,MAAAjC,EAAAkC,IAAA,OAAAO,KAAA0D,IAAA,EAAAtC,kBAAA,SAAA7D,GAAA,GAAAyC,KAAAsB,KAAA,MAAA/D,EAAA,IAAAS,EAAAgC,KAAA,SAAA5B,EAAAF,EAAAE,GAAA,OAAAK,EAAAe,KAAA,QAAAf,EAAAgB,IAAAlC,EAAAS,EAAA0D,KAAAxD,EAAAE,IAAAJ,EAAA+C,OAAA,OAAA/C,EAAAyB,IAAA8B,aAAAnD,CAAA,CAAA,IAAA,IAAAG,EAAAyB,KAAAiC,WAAAM,OAAA,EAAAhE,GAAA,IAAAA,EAAA,CAAA,IAAAC,EAAAwB,KAAAiC,WAAA1D,GAAAE,EAAAD,EAAA4D,WAAA,GAAA,SAAA5D,EAAAqD,OAAA,OAAAzD,EAAA,OAAA,GAAAI,EAAAqD,QAAA7B,KAAAsD,KAAA,CAAA,IAAA3E,EAAAT,EAAAwB,KAAAlB,EAAA,YAAAK,EAAAX,EAAAwB,KAAAlB,EAAA,cAAA,GAAAG,GAAAE,EAAA,CAAA,GAAAmB,KAAAsD,KAAA9E,EAAAsD,SAAA,OAAA1D,EAAAI,EAAAsD,UAAA,GAAA,GAAA9B,KAAAsD,KAAA9E,EAAAuD,WAAA,OAAA3D,EAAAI,EAAAuD,WAAA,MAAA,GAAApD,GAAA,GAAAqB,KAAAsD,KAAA9E,EAAAsD,SAAA,OAAA1D,EAAAI,EAAAsD,UAAA,OAAA,CAAA,IAAAjD,EAAA,MAAA,IAAAgC,MAAA,0CAAA,GAAAb,KAAAsD,KAAA9E,EAAAuD,WAAA,OAAA3D,EAAAI,EAAAuD,WAAA,CAAA,CAAA,CAAA,EAAAV,OAAA,SAAA9D,EAAAS,GAAA,IAAA,IAAAI,EAAA4B,KAAAiC,WAAAM,OAAA,EAAAnE,GAAA,IAAAA,EAAA,CAAA,IAAAG,EAAAyB,KAAAiC,WAAA7D,GAAA,GAAAG,EAAAsD,QAAA7B,KAAAsD,MAAApF,EAAAwB,KAAAnB,EAAA,eAAAyB,KAAAsD,KAAA/E,EAAAwD,WAAA,CAAA,IAAAvD,EAAAD,EAAA,KAAA,CAAA,CAAAC,IAAA,UAAAjB,GAAA,aAAAA,IAAAiB,EAAAqD,QAAA7D,GAAAA,GAAAQ,EAAAuD,aAAAvD,EAAA,MAAA,IAAAC,EAAAD,EAAAA,EAAA4D,WAAA,CAAA,EAAA,OAAA3D,EAAAe,KAAAjC,EAAAkB,EAAAgB,IAAAzB,EAAAQ,GAAAwB,KAAAe,OAAA,OAAAf,KAAA0B,KAAAlD,EAAAuD,WAAAnC,GAAAI,KAAA2D,SAAAlF,EAAA,EAAAkF,SAAA,SAAApG,EAAAS,GAAA,GAAA,UAAAT,EAAAiC,KAAA,MAAAjC,EAAAkC,IAAA,MAAA,UAAAlC,EAAAiC,MAAA,aAAAjC,EAAAiC,KAAAQ,KAAA0B,KAAAnE,EAAAkC,IAAA,WAAAlC,EAAAiC,MAAAQ,KAAA0D,KAAA1D,KAAAP,IAAAlC,EAAAkC,IAAAO,KAAAe,OAAA,SAAAf,KAAA0B,KAAA,OAAA,WAAAnE,EAAAiC,MAAAxB,IAAAgC,KAAA0B,KAAA1D,GAAA4B,CAAA,EAAAgE,OAAA,SAAArG,GAAA,IAAA,IAAAS,EAAAgC,KAAAiC,WAAAM,OAAA,EAAAvE,GAAA,IAAAA,EAAA,CAAA,IAAAE,EAAA8B,KAAAiC,WAAAjE,GAAA,GAAAE,EAAA6D,aAAAxE,EAAA,OAAAyC,KAAA2D,SAAAzF,EAAAkE,WAAAlE,EAAA8D,UAAAG,EAAAjE,GAAA0B,CAAA,CAAA,EAAAiE,QAAA,SAAAtG,GAAA,IAAA,IAAAS,EAAAgC,KAAAiC,WAAAM,OAAA,EAAAvE,GAAA,IAAAA,EAAA,CAAA,IAAAE,EAAA8B,KAAAiC,WAAAjE,GAAA,GAAAE,EAAA2D,SAAAtE,EAAA,CAAA,IAAAa,EAAAF,EAAAkE,WAAA,GAAA,UAAAhE,EAAAoB,KAAA,CAAA,IAAAjB,EAAAH,EAAAqB,IAAA0C,EAAAjE,EAAA,CAAA,OAAAK,CAAA,CAAA,CAAA,MAAA,IAAAsC,MAAA,wBAAA,EAAAiD,cAAA,SAAAvG,EAAAS,EAAAE,GAAA,OAAA8B,KAAAgB,SAAA,CAAA7D,SAAAiD,EAAA7C,GAAAkE,WAAAzD,EAAA2D,QAAAzD,GAAA,SAAA8B,KAAAe,SAAAf,KAAAP,IAAA8B,WAAA3B,CAAA,GAAArC,CAAA,CAAA,SAAAwG,mBAAAxG,EAAAS,EAAAE,EAAAE,EAAAG,EAAAC,EAAAC,GAAA,IAAA,IAAAE,EAAApB,EAAAiB,GAAAC,GAAAI,EAAAF,EAAAL,KAAA,CAAA,MAAAY,GAAA,YAAAhB,EAAAgB,EAAA,CAAAP,EAAA2C,KAAAtD,EAAAa,GAAAoE,QAAAvC,QAAA7B,GAAA+B,KAAAxC,EAAAG,EAAA,CAAA,SAAAyF,kBAAAzG,GAAA,OAAA,WAAA,IAAAS,EAAAgC,KAAA9B,EAAA+F,UAAA,OAAA,IAAAhB,SAAA,SAAA7E,EAAAG,GAAA,IAAAC,EAAAjB,EAAA2G,MAAAlG,EAAAE,GAAA,SAAAO,EAAAlB,GAAAwG,mBAAAvF,EAAAJ,EAAAG,EAAAE,EAAAE,EAAA,OAAApB,EAAA,CAAA,SAAAoB,EAAApB,GAAAwG,mBAAAvF,EAAAJ,EAAAG,EAAAE,EAAAE,EAAA,QAAApB,EAAA,CAAAkB,EAAA8C,UAAA,GAAA,CAAA,CAAA,IAAM4C,WAAa,CACjBC,aAAc,CAAC,WAAY,WAAY,YAAa,UAAW,UAAW,UAAW,YAAa,YAClGC,aAAc,CAAC,aAAc,WAAY,cAAe,eAAgB,eAAgB,eACxFC,iBAAkBC,SAASC,cAAcC,QAAQC,QAAQC,QAAUJ,SAASC,cAAcC,QAAQC,QAAQE,UAAUD,OACpHE,aAAcN,SAASC,cAAcC,QAAQK,WAAWC,QAAQF,aAChEG,QAAS,wFACTC,QAAS,mDAKTC,YAAa,WACXf,WAAWgB,IAAIC,OACfb,SAASc,KAAKC,MAAK,WACjBnB,WAAWgB,IAAII,WACXhB,SAASiB,aAAarB,WAAWgB,IAAIM,UAC3C,GACF,EAMAC,cAAa,WAAA,IAAAnI,EAAAyG,kBAAAjG,sBAAA4E,MAAE,SAAA3E,IAAA,IAAAT,EAAAW,EAAA,OAAAH,sBAAA4B,MAAA,SAAA3B,GAAA,OAAA,OAAAA,EAAAsF,KAAAtF,EAAA0D,MAAA,KAAA,EAAA,OAAA1D,EAAA0D,KAAA,EAEQiE,UAAUC,YAAYC,MAAM,CAAEnD,KAAM,mBAAmB,KAAA,EAAtExE,EAAMF,EAAAkD,KAAAlD,EAAA8H,GACJ5H,EAAO6H,MAAK/H,EAAA0D,KACb,YADa1D,EAAA8H,IAEb,WADS9H,EAAA8H,GAAA,EACD,GAAA,MAAA,KAAA,EAAA,OAAA9H,EAAA0D,KAAA,EACWiE,UAAUK,UAAUC,WAAU,KAAA,EAAvC,OAAb1I,EAAaS,EAAAkD,KAAAlD,EAAAqD,OAAA,QAAA,IAAA,KAAA,GAGgB,OAA7B6E,OAAOC,eAAA,EAAsBnI,EAAAqD,OAAA,QAAA,IAAA,KAAA,GAAA,OAAArD,EAAAqD,OAAA,SAG1B9D,GAAa,KAAA,GAAA,IAAA,MAAA,OAAAS,EAAAyF,OAAA,GAAAzF,EAAA,KACrB,OAAA,WAAA,OAAAT,EAAA2G,MAAAlE,KAAAiE,UAAA,CAAA,CAbY,GAmBbmC,cAAe,SAAA7I,GACb,OAAOoI,UAAUK,UACdK,UAAU9I,GACVqD,MAAK,WACJ,OAAOqC,QAAQvC,SACjB,IAAE,UACK,SAAAnD,GACL,OAAO0F,QAAQqD,OAAO/I,EACxB,GACJ,EAQAgJ,aAAY,WAAA,IAAAhJ,EAAAyG,kBAAAjG,sBAAA4E,MAAE,SAAA3E,EAAOT,EAAMW,EAASE,GAAK,IAAAG,EAAA,OAAAR,sBAAA4B,MAAA,SAAA3B,GAAA,OAAA,OAAAA,EAAAsF,KAAAtF,EAAA0D,MAAA,KAAA,GACjCnD,EAAQ,IAAIiI,OACZC,YAAc,YACpBlI,EAAMmI,iBAAiB,QAAQ,WAC7B,IAAInJ,EAASoJ,SAASC,cAAc,UAChC5I,EAAUT,EAAOsJ,WAAW,MAChCtJ,EAAOuJ,MAAQvI,EAAMuI,MACrBvJ,EAAOwJ,OAASxI,EAAMwI,OACtB/I,EAAQgJ,UAAUzI,EAAO,EAAG,GAC5BhB,EAAO0J,QAAO,SAAA1J,GACZoI,UAAUK,UAAUkB,MAAM,CACxB,IAAIC,cAAc,CAAE,YAAa5J,MAChCqD,MAAK,SAAArD,GACNW,EAAQX,EACV,IAAE,UAAO,SAAAA,GACPa,EAAMb,EACR,GACF,GAAG,YACL,IAAA,GACAgB,EAAM6I,IAAG,GAAAC,OAAM9J,EAAI,aAAY,KAAA,EAAA,IAAA,MAAA,OAAAS,EAAAyF,OAAA,GAAAzF,EAAA,KAChC,OAAA,SAAAA,EAAAE,EAAAE,GAAA,OAAAb,EAAA2G,MAAAlE,KAAAiE,UAAA,CAAA,CApBW,GA2BZqD,cAAe,SAAC/J,EAAOS,GACrB,IAAME,EAAWX,EAAMgK,eACrBnJ,EAASb,EAAMiK,aACjB,GAAIb,SAASc,UACXlK,EAAMmK,QACIf,SAASc,UAAUE,cACzBC,KAAO5J,EACXT,EAAMmK,aAEN,GAAIxJ,GAAwB,KAAZA,EAAiB,CAC/B,IAAIK,EAAYhB,EAAMsK,UACtBtK,EAAMe,MAAQf,EAAMe,MAAMwJ,UAAU,EAAG5J,GAAYF,EAAQT,EAAMe,MAAMwJ,UAAU1J,EAAQb,EAAMe,MAAMiE,QACrGhF,EAAMmK,QACNnK,EAAMgK,eAAiBrJ,EAAWF,EAAMuE,OACxChF,EAAMiK,aAAetJ,EAAWF,EAAMuE,OACtChF,EAAMsK,UAAYtJ,CACpB,MACEhB,EAAMe,OAASN,EACfT,EAAMmK,OAGZ,GAMFvD,WAAWgB,IAAO,WAChB,IAAM5H,EAAkBgH,SAASC,cAAcC,QAAQK,WAGrD9G,EAAK,CAAC,EACNE,EAAoByI,SAASoB,eAAe,qBAC5C3J,EAAoBuI,SAASoB,eAAe,qBAC5CxJ,EAAiBoI,SAASqB,iBAAiB,0CAC3CxJ,EAAuBmI,SAASqB,iBAAiB,4DACjDvJ,EAAWkI,SAASoB,eAAe,YACnCpJ,EAAagI,SAASoB,eAAe,aACrClJ,EAAY8H,SAASsB,cAAc,wBACnC/I,EAAUyH,SAASsB,cAAc,sBACjC1I,EAAWoH,SAASsB,cAAc,uBAGhCrI,EAAa,CACfsI,WAAY,KACZC,YAAA,EACAC,WAAY,GACZC,WAAY,GACZC,QAAA,EACAC,QAAS,GACTC,aAAA,EACAC,aAAc,GACdC,SAAA,EACAC,WAAA,EACAC,SAAU,GACVC,iBAAA,EACAC,aAAA,EACAC,aAAA,GAEI5J,EAAmBlB,OAAO+K,OAAO,CAAC,EAAGpJ,GAuc3C,OAlcA5B,EAAGiL,UAAY,WACbjL,EAAGkL,gBACHlL,EAAGmL,cACHnL,EAAGoL,WACL,EAKApL,EAAGkL,cAAgB,WAEbzK,GAAUA,EAAS4K,WAAWC,YAAY7K,GAC9C,IAAMlB,EAAUoJ,SAASC,cAAc,OACvCrJ,EAAQgM,UAAY,mCACpBhM,EAAQiM,GAAK,WACbtD,OAAOS,SAAS8C,KAAKC,YAAYnM,EACnC,EAMAS,EAAG2L,aAAe,SAACpM,GACjB,IACE,IAAIgB,EAAehB,EAAMqM,QACrBpL,EAAejB,EAAMsM,QACrBpL,EAAckI,SAASmD,gBAAgBC,aAAepD,SAAS8C,KAAKM,YACpEpL,EAAegI,SAASmD,gBAAgBE,cAAgBrD,SAAS8C,KAAKO,aAE1E9L,EAAkB+L,MAAMC,QAAU,QAClClM,EAAGmM,YAAY5M,GAEf,IAAIsB,EAAYT,EAAkBgM,YAC9BlL,EAAad,EAAkBiM,aAC/B9K,EAAWhB,EAAeM,EAAYJ,EAAcF,EAAeM,EAAY,GAAKN,EACpFqB,EAAUpB,EAAeU,EAAaP,EAAeH,EAAeU,EAAa,GAAKV,EAC1FoB,EAAUpB,EAAeU,EAAaP,GAAgBiB,EAAUV,GAAcV,EAAeU,EAC3FU,GAAWjB,EAAeO,EAAaU,EAAU,IAAMA,EACzD1B,EAAkB+L,MAAMK,KAAI,GAAAjD,OAAM9H,EAAQ,MAC1CrB,EAAkB+L,MAAMM,IAAG,GAAAlD,OAAMzH,EAAO,MACpC2E,SAASC,cAAcC,QAAQC,QAAQE,UAAU4F,QAAQxM,EAAGyM,WAClE,CAAE,MAAOtL,GAGP,OAFAuL,QAAQC,MAAMxL,GACdnB,EAAGuH,YAAA,CAEL,CACA,OAAA,CACF,EAMAvH,EAAGmM,YAAc,SAACjM,GAChBF,EAAG4M,cAAc1M,GACXS,IAAYA,EAAWsL,MAAMC,QAAUtK,EAAWkJ,YAAc,QAAU,QAChFvK,EAAegC,SAAQ,SAAAvC,GACrBA,EAAKiM,MAAMC,QAAU,OACrB,IAAMhM,EAAWF,EAAK6M,kBAAkBC,SAClC1M,EAAYJ,EAAK6M,kBAAkBE,aAAa,cAChDxM,EAAYP,EAAK6M,kBAAkBE,aAAa,cACtD,GAAInL,EAAWmJ,aAAenJ,EAAW+I,UACvC,OAAQvK,GACN,IAAK,WACCwB,EAAWuI,aACbnK,EAAKiM,MAAMC,QAAU,QACH,YAAd3L,GAA4BqB,EAAWwI,aAAYpK,EAAKiM,MAAMC,QAAU,QAC1D,YAAd3L,GAA4BqB,EAAWyI,aAAYrK,EAAKiM,MAAMC,QAAU,QAC1D,cAAd3L,GAA8BqB,EAAWiJ,kBAAiB7K,EAAKiM,MAAMC,QAAU,SAErF,MACF,IAAK,cACGtK,EAAWwI,aAAYpK,EAAKiM,MAAMC,QAAU,SAClD,MACF,IAAK,gBACCtK,EAAW0I,QAAU1I,EAAW4I,eAAaxK,EAAKiM,MAAMC,QAAU,SACtE,MACF,IAAK,eACCtK,EAAW8I,UAAS1K,EAAKiM,MAAMC,QAAU,SAC7C,MACF,IAAK,cACCtK,EAAW+I,YAAW3K,EAAKiM,MAAMC,QAAU,SAC/C,MACF,QACElM,EAAKiM,MAAMC,QAAuB,MAAbhM,EACjB0B,EAAW+I,YAAc/I,EAAWmJ,aAAexL,EAAgBwH,QAAQiG,gBACzE,QACA,OACF,aAGc,MAAb9M,GAAoBiG,WAAWE,aAAa4G,OAAM,SAAA1N,GAAU,OAAOa,IAAcb,CAAK,OAC/FS,EAAKiM,MAAMC,QAAU,QAEzB,IAGA3F,SAAS2D,WAAahK,EACtBqG,SAASK,UAAU7D,OAAOmK,OAAOC,QAGjC,IAAI/M,EAAgB,CAAEgN,KAAM,KAAMC,MAAA,GAClC7M,EAAqB+B,SAAQ,SAAChD,GAC5B,GAAsB,OAAlBA,EAAKuN,SAAmB,CAE1B,GADAvN,EAAK0M,MAAMC,QAAU,SAChB9L,EAAcgN,KAEjB,YADAhN,EAAcgN,KAAO7N,IAGnBa,EAAciN,MAA2D,OAAnDjN,EAAcgN,KAAKE,mBAAmBR,YAC9D1M,EAAcgN,KAAKnB,MAAMC,QAAU,QAErC9L,EAAcgN,KAAO7N,EACrBa,EAAciN,MAAA,CAChB,KAC6B,UAAvB9N,EAAK0M,MAAMC,SAAuB9L,EAAciN,OAClDjN,EAAciN,MAAA,EAGpB,IACMjN,EAAcgN,MAAQhN,EAAciN,OAAMjN,EAAcgN,KAAKnB,MAAMC,QAAU,OACrF,EAMAlM,EAAG4M,cAAgB,SAAC5M,GAAU,IAAAE,GAC5B0B,EAAa3B,OAAO+K,OAAO,CAAC,EAAG7J,IACpB+I,WAAalK,EACxB4B,EAAWwI,WAAalC,OAAOqF,eAAeC,WAGH,UAAvCxN,EAAMyN,OAAOC,QAAQC,eAAoE,aAAvC3N,EAAMyN,OAAOC,QAAQC,gBACzE/L,EAAWuI,YAAA,EACXvI,EAAWyI,WAAarK,EAAMyN,OAAOnN,OAInCsB,EAAWuI,aAAA,IAAcjC,OAAOC,gBAClCvG,EAAWiJ,iBAAA,GAIP7K,EAAMyN,OAAOG,MAAQzH,WAAWa,QAAQ6G,KAAK7N,EAAMyN,OAAOG,QAC9DhM,EAAW0I,QAAA,EACX1I,EAAW2I,QAAUvK,EAAMyN,OAAOG,MAI9B5N,EAAMyN,OAAOK,YAAc3H,WAAWa,QAAQ6G,KAAK7N,EAAMyN,OAAOK,cACpElM,EAAW4I,aAAA,EACX5I,EAAW6I,aAAezK,EAAMyN,OAAOK,YAIrClM,EAAW4I,aAAerE,WAAWc,QAAQ4G,KAAKjM,EAAW6I,gBAC/D7I,EAAW8I,SAAA,GAIN/B,SAASsB,cAAc,mBAC5BrI,EAAW+I,WAAA,EACX/I,EAAWgJ,SAAW1C,OAAO6F,SAASC,UAIE,QAAtC9N,EAAAqG,SAASC,cAAcC,QAAQwH,eAAA,IAAO/N,GAAtCA,EAAwCyG,QACX,oBAArBuH,kBACPA,iBAAiBC,QAAQC,SAAW7K,YACnChE,EAAgBwH,QAAQsH,iBACa,SAApCH,iBAAiBC,QAAQG,QACW,cAApCJ,iBAAiBC,QAAQG,UAC5B1M,EAAWkJ,aAAA,IAKTlJ,EAAWwI,YAAcxI,EAAWuI,YAAcvI,EAAW0I,QAAU1I,EAAW4I,eACtF5I,EAAWmJ,aAAA,EAEf,EAKA/K,EAAGmL,YAAc,WACfjD,OAAOS,SAAS4F,cAAgB,SAAChP,GAC/B,OAAIA,EAAMiP,SAAW7F,SAAS8C,KAAKW,aAAe,KAChDpM,EAAGuH,YAAA,GAGEvH,EAAG2L,aAAapM,EACzB,EAEAW,EAAkBqO,cAAgB,SAAChP,GAGjC,OAFAA,EAAMkP,kBACNlP,EAAMmP,kBAAA,CAER,EAEAxG,OAAOyG,oBAAoB,OAAQ3O,EAAGuH,UACtCW,OAAOQ,iBAAiB,OAAQ1I,EAAGuH,UACnCoB,SAAS8C,KAAKkD,oBAAoB,QAAS3O,EAAGuH,UAC9CoB,SAAS8C,KAAK/C,iBAAiB,QAAS1I,EAAGuH,SAC7C,EAKAvH,EAAGoL,UAAY,WACb7K,EAAegC,SAAQ,SAAArC,GACrB,IAAIE,EAAYF,EAAK2M,kBAAkBE,aAAa,cAC9CxM,EAAKL,EAAK2M,kBAAkBE,aAAa,MACzCvM,EAAYN,EAAK2M,kBAAkBE,aAAa,cACd,MAApC7M,EAAK2M,kBAAkBC,UAC3B5M,EAAKwI,iBAAiB,SAAS,WAC7B,IACMvC,WAAWC,aAAa6G,OAAM,SAAA1N,GAAU,OAAOa,IAAcb,CAAK,IAClD,gBAAdiB,EACFoO,mBAAmBrO,GAAIqB,EAAWwI,YACX,iBAAd5J,EACToO,mBAAmBrO,GAAIqB,EAAW0I,OAAS1I,EAAW2I,QAAU3I,EAAW6I,cACpD,iBAAdjK,EACToO,mBAAmBrO,GAAIqB,EAAW6I,cAElCmE,mBAAmBrO,KAGrBP,EAAGI,IAEP,CAAE,MAAOF,GAC8B,eAAjCqG,SAASC,cAAcqI,OACzBnC,QAAQC,MAAM,CACZnB,GAAIjL,EACJoM,MAAOzM,EACP4O,WAAYlN,EACZmN,UAAWvO,EACXwO,UAAW5O,IAGX+F,WAAWG,kBACb2I,YAAYvI,QAAQ,OAAQxG,EAAO,CACjCgP,KAAM3P,EAAgBwH,QAAQoI,WAAa,6BAC3CC,KAAM,SAGZ,CACF,GACF,IAEI7N,GAAYL,GAAWK,IACzBV,EAAUwO,QAAU,SAAC9P,GACnBA,EAAEmP,iBACFnP,EAAEkP,kBACFP,iBAAiBoB,iBACnB,EACApO,EAAQmO,QAAU,SAAC9P,GACjBA,EAAEmP,iBACFnP,EAAEkP,kBACFP,iBAAiBqB,eACnB,EACAhO,EAAS8N,QAAU,SAAC9P,GAClBA,EAAEmP,iBACFnP,EAAEkP,kBACFP,iBAAiBsB,gBACnB,EAEJ,EAKAxP,EAAGuH,SAAW,WACZrH,EAAkB+L,MAAMC,QAAU,KAClChM,EAAkB+L,MAAMK,KAAO,KAC/BpM,EAAkB+L,MAAMM,IAAM,IAChC,EAKAvM,EAAGyM,UAAY,WACb,IAAMzM,EAA8D,SAA5CyP,aAAaC,QAAQ,mBACzCvJ,WAAWG,mBAAqBtG,GAClCiP,YAAYvI,QAAQ,OAAQ,6CAA8C,CACxEwI,KAAM3P,EAAgBwH,QAAQoI,WAAa,6BAC3CQ,YAAa,EACbP,KAAM,MACL,WACDK,aAAaG,QAAQ,kBAAmB,OAC1C,GACJ,EAEA5P,EAAG6P,SAAW,WACZZ,YAAYa,kBAAkBlO,EAAWwI,YACtCxH,MAAK,WACAuD,WAAWG,kBACb2I,YAAYc,kBAEhB,IAAE,UAAO,SAAA/P,GACHmG,WAAWG,kBACb2I,YAAYvI,QAAQ,OAAQ1G,EAAG,CAC7BkP,KAAM3P,EAAgBwH,QAAQoI,WAAa,6BAC3CQ,YAAa,EACbP,KAAM,KAGZ,GACJ,EAEApP,EAAGgQ,SAAW,WACZf,YAAYa,kBAAkBlO,EAAW2I,SAAW3I,EAAW6I,cAC5D7H,MAAK,WACAuD,WAAWG,kBACb2I,YAAYc,kBAEhB,IAAE,UAAO,SAAA/P,GACHmG,WAAWG,kBACb2I,YAAYvI,QAAQ,OAAQ1G,EAAG,CAC7BkP,KAAM3P,EAAgBwH,QAAQoI,WAAa,6BAC3CQ,YAAa,EACbP,KAAM,KAGZ,GACJ,EAEApP,EAAGiQ,QAAU,WACXrO,EAAWsI,WAAWuD,OAAOyC,QAC/B,EAEAlQ,EAAGmQ,UAASnK,kBAAAjG,sBAAA4E,MAAG,SAAA9C,IAAA,IAAAtC,EAAA,OAAAQ,sBAAA4B,MAAA,SAAA3B,GAAA,OAAA,OAAAA,EAAAsF,KAAAtF,EAAA0D,MAAA,KAAA,EAAA,OAAA1D,EAAA0D,KAAA,EACQyC,WAAWuB,gBAAe,KAAA,EAAA,GAAA1H,EAAA8H,GAAA9H,EAAAkD,KAAAlD,EAAA8H,GAAA,CAAA9H,EAAA0D,KAAA,EAAA,KAAA,CAAA1D,EAAA8H,GAAI,GAAE,KAAA,EAA/CvI,EAAMS,EAAA8H,GACR3B,WAAWG,mBAAA,IAAoB4B,OAAOC,cACxC8G,YAAYvI,QAAQ,OAAQ,eACnBP,WAAWG,kBAA+B,KAAX/G,EACxC0P,YAAYvI,QAAQ,OAAQ,cAE5BP,WAAWmD,cAAc1H,EAAWsI,WAAWuD,OAAQlO,GACxD,KAAA,EAAA,IAAA,MAAA,OAAAS,EAAAyF,OAAA,GAAA5D,EAAA,KAGH7B,EAAGoQ,QAAU,WACX,IAAM7Q,EAAWqC,EAAWsI,WAAWuD,OAAOlE,eACxCrJ,EAAS0B,EAAWsI,WAAWuD,OAAOjE,aACtCpJ,EAAWwB,EAAWyI,WAC5BrK,EAAG6P,SAASjO,EAAWwI,YACvBxI,EAAWsI,WAAWuD,OAAOnN,MAAQF,EAAS0J,UAAU,EAAGvK,GAAYa,EAAS0J,UAAU5J,EAAQE,EAASmE,QAC3G3C,EAAWsI,WAAWuD,OAAOlE,eAAiBhK,EAC9CqC,EAAWsI,WAAWuD,OAAOjE,aAAejK,EAC5CqC,EAAWsI,WAAWuD,OAAO/D,OAC/B,EAEA1J,EAAGqQ,QAAU,WACP9J,SAASC,cAAcC,QAAQC,QAAQE,UAAU4F,QACnDyC,YAAYvI,QAAQ,OAAQ,WAAY,CACtCwI,KAAM3P,EAAgBwH,QAAQoI,WAAa,eAG/ChJ,WAAWoC,aAAa3G,EAAW6I,cAAc,SAAAzK,GAC3CmG,WAAWG,mBACb2I,YAAYqB,cACZrB,YAAYvI,QAAQ,OAAQ,UAAW,CACrCwI,KAAM3P,EAAgBwH,QAAQoI,WAAa,eAGjD,IAAG,SAACnP,GACF0M,QAAQC,MAAM3M,GACVmG,WAAWG,mBACb2I,YAAYqB,cACZrB,YAAYvI,QAAQ,OAAQ,QAAU1G,EAAG,CACvCkP,KAAM3P,EAAgBwH,QAAQoI,WAAa,6BAC3CC,KAAM,MAGZ,GACF,EAEApP,EAAGuQ,UAAY,WACTrI,OAAO6F,SAASC,WAAapM,EAAWgJ,WACtCzE,WAAWG,iBAEb2I,YAAYuB,SAAS,GADL,+DACkB,CAAEpB,KAAM,MAAQ,WAAQpP,EAAGyQ,WAAY,IAEzEzQ,EAAGyQ,YAGT,EAEAzQ,EAAGyQ,UAAY,WACTlK,SAASiB,aAAaxH,EAAGyH,WAC7BiJ,cAAcC,aAAa,UAAW,OAAQ,QAC9CD,cAAcE,WAAW,CACvB,mBAAoB,oBAAqB,oBAAqB,aAC9D,SAAU,YAAa,WAAY,UAAW,YAAa,SAAU,OACrE,qBAAsB,YAAa,mBAAoB,uBAAwB,eAEjFF,cAAcG,aAAa,CACzB,CAAC,OAAQ,kBAAmB,SAAU,CAAC,UAAW,QAAS,QAAS,CAAC,QAAS,YAAa,QAC3F,CAAC,QAAS,aAAc,QAAS,CAAC,QAAS,UAAW,KAAM,CAAC,KAAM,YAAa,UAChF,CAAC,KAAM,aAAc,OAAQ,CAAC,KAAM,WAAY,QAAS,CAAC,KAAM,eAAgB,QAChF,CAAC,YAAa,UAAW,SAAU,CAAC,eAAgB,YAAa,QAAS,CAAC,uBAAwB,aAAc,YACjH,CAAC,uBAAwB,YAAa,aAAc,CAAC,gBAAiB,SAAU,QAAS,CAAC,gBAAiB,SAAU,UAEvHC,YAAW,WACT5I,OAAO6I,QACPpI,SAAS8C,KAAKuF,UAAY,GAC1B9I,OAAO6F,SAASkD,QAClB,GAAG,GACL,EAEAjR,EAAGyH,SAAW,WACgB,mBAAjByJ,cAA6BA,eAAeC,MAAM,aAC7DT,cAAcU,eAAe,CAC3BzI,SAASsB,cAAc,aAActB,SAASsB,cAAc,UAC5DtB,SAASsB,cAAc,UAAWtB,SAASsB,cAAc,wBACzDtB,SAASsB,cAAc,cAAetB,SAASsB,cAAc,WAC7DtB,SAASsB,cAAc,eAEzByG,cAAcW,gBAAgB,CAC5B,CAAC1I,SAASsB,cAAc,WAAY,eAAgB,CAACtB,SAASsB,cAAc,WAAY,oBACxF,CAACtB,SAASsB,cAAc,WAAY,eAAgB,CAACtB,SAASsB,cAAc,aAAc,eAC1F,CAACtB,SAASsB,cAAc,mBAAoB,eAAgB,CAACtB,SAASsB,cAAc,aAAc,oBAClG,CAACtB,SAASsB,cAAc,MAAO,kBAAmB,CAACtB,SAASsB,cAAc,SAAU,aACpF,CAACtB,SAASsB,cAAc,YAAa,cAAe,CAACtB,SAASsB,cAAc,uBAAwB,eAEtGyG,cAAcY,SAAS,qBAAsB,SAAU,UACvD/K,SAASiB,YAAcjB,SAASiB,cAAgBjE,YAAoBgD,SAASiB,YACzEjB,SAASiB,aACPrB,WAAWG,kBAAkB2I,YAAYvI,QAAQ,OAAQ,wBAAyB,CACpF6K,gBAAiB,yBACjBrC,KAAM3P,EAAgBwH,QAAQoI,WAAa,kBAC3CQ,YAAa,EACbP,KAAM,MAERzG,SAASsB,cAAc,WAAW0E,oBAAoB,QAAS3O,EAAGyH,UAClEkB,SAASsB,cAAc,WAAWvB,iBAAiB,SAAS,SAACnJ,GACvDmR,cAAcc,SAASjS,EAAMkO,OAAQ,gBACvCzN,EAAGyH,UAEP,MAEAkB,SAASsB,cAAc,WAAW0E,oBAAoB,QAAS3O,EAAGyH,UAClEkB,SAASsB,cAAc,SAAS0E,oBAAoB,QAAS3O,EAAGyH,UAChEiJ,cAAcY,SAAS,aAAc,UAAW,QAChDZ,cAAcY,SAAS,qBAAsB,SAAU,cAE3D,EAEO,CACLlK,KAAMpH,EAAGiL,UACT1D,SAAUvH,EAAGuH,SACbE,SAAUzH,EAAGyH,SAEjB,CA5ekB,GA8elBxH,OAAOwR,OAAOtL,YACdI,SAASmL,uBAAsB,WACD,YAAxB/I,SAASgJ,WACXxL,WAAWe,cAEXyB,SAASD,iBAAiB,oBAAoB,WAC5CvC,WAAWe,aACb,GAEJ","file":"../../../js/plugins/rightMenus.js","sourcesContent":["\nconst RightMenus = {\n  defaultEvent: ['copyText', 'copyLink', 'copyPaste', 'copyAll', 'copyCut', 'copyImg', 'printMode', 'readMode'],\n  defaultGroup: ['navigation', 'inputBox', 'seletctText', 'elementCheck', 'elementImage', 'articlePage'],\n  messageRightMenu: volantis.GLOBAL_CONFIG.plugins.message.enable && volantis.GLOBAL_CONFIG.plugins.message.rightmenu.enable,\n  corsAnywhere: volantis.GLOBAL_CONFIG.plugins.rightmenus.options.corsAnywhere,\n  urlRegx: /^((https|http)?:\\/\\/)+[A-Za-z0-9]+\\.[A-Za-z0-9]+[\\/=\\?%\\-&_~`@[\\]\\':+!]*([^<>\\\"\\\"])*$/,\n  imgRegx: /\\.(jpe?g|png|webp|svg|gif|jifi)(-|_|!|\\?|\\/)?.*$/,\n\n  /**\n   * 加载右键菜单\n   */\n  initialMenu: () => {\n    RightMenus.fun.init();\n    volantis.pjax.send(() => {\n      RightMenus.fun.hideMenu();\n      if (volantis.isReadModel) RightMenus.fun.readMode();\n    })\n  },\n\n  /**\n   * 读取剪切板\n   * @returns text\n   */\n  readClipboard: async () => {\n    let clipboardText;\n    const result = await navigator.permissions.query({ name: 'clipboard-read' });\n    switch (result.state) {\n      case 'granted':\n      case 'prompt':\n        clipboardText = await navigator.clipboard.readText()\n        break;\n      default:\n        window.clipboardRead = false;\n        break;\n    }\n    return clipboardText;\n  },\n\n  /**\n   * 写入文本到剪切板\n   * @param {String} text\n   */\n  writeClipText: text => {\n    return navigator.clipboard\n      .writeText(text)\n      .then(() => {\n        return Promise.resolve()\n      })\n      .catch(err => {\n        return Promise.reject(err)\n      })\n  },\n\n  /**\n   * 写入图片到剪切板\n   * @param {*} link\n   * @param {*} success\n   * @param {*} error\n   */\n  writeClipImg: async (link, success, error) => {\n    const image = new Image;\n    image.crossOrigin = \"Anonymous\";\n    image.addEventListener('load', () => {\n      let canvas = document.createElement(\"canvas\");\n      let context = canvas.getContext(\"2d\");\n      canvas.width = image.width;\n      canvas.height = image.height;\n      context.drawImage(image, 0, 0);\n      canvas.toBlob(blob => {\n        navigator.clipboard.write([\n          new ClipboardItem({ 'image/png': blob })\n        ]).then(e => {\n          success(e)\n        }).catch(e => {\n          error(e)\n        })\n      }, 'image/png')\n    }, false)\n    image.src = `${link}?(lll￢ω￢)`;\n  },\n\n  /**\n   * 粘贴文本到剪切板\n   * @param {*} elemt\n   * @param {*} value\n   */\n  insertAtCaret: (elemt, value) => {\n    const startPos = elemt.selectionStart,\n      endPos = elemt.selectionEnd;\n    if (document.selection) {\n      elemt.focus();\n      var sel = document.selection.createRange();\n      sel.text = value;\n      elemt.focus();\n    } else {\n      if (startPos || startPos == '0') {\n        var scrollTop = elemt.scrollTop;\n        elemt.value = elemt.value.substring(0, startPos) + value + elemt.value.substring(endPos, elemt.value.length);\n        elemt.focus();\n        elemt.selectionStart = startPos + value.length;\n        elemt.selectionEnd = startPos + value.length;\n        elemt.scrollTop = scrollTop;\n      } else {\n        elemt.value += value;\n        elemt.focus();\n      }\n    }\n  }\n}\n\n/**\n * 事件处理区域\n */\nRightMenus.fun = (() => {\n  const rightMenuConfig = volantis.GLOBAL_CONFIG.plugins.rightmenus;\n\n  const\n    fn = {},\n    _rightMenuWrapper = document.getElementById('rightmenu-wrapper'),\n    _rightMenuContent = document.getElementById('rightmenu-content'),\n    _rightMenuList = document.querySelectorAll('#rightmenu-content li.menuLoad-Content'),\n    _rightMenuListWithHr = document.querySelectorAll('#rightmenu-content li, #rightmenu-content hr, #menuMusic'),\n    _readBkg = document.getElementById('read_bkg'),\n    _menuMusic = document.getElementById('menuMusic'),\n    _backward = document.querySelector('#menuMusic .backward'),\n    _toggle = document.querySelector('#menuMusic .toggle'),\n    _forward = document.querySelector('#menuMusic .forward');\n\n  // 公共数据\n  let globalData = {\n    mouseEvent: null,\n    isInputBox: false,\n    selectText: '',\n    inputValue: '',\n    isLink: false,\n    linkUrl: '',\n    isMediaLink: false,\n    mediaLinkUrl: '',\n    isImage: false,\n    isArticle: false,\n    pathName: '',\n    isReadClipboard: true,\n    isShowMusic: false,\n    statusCheck: false\n  }\n  const globalDataBackup = Object.assign({}, globalData);\n\n  /**\n   * 初始化监听事件处理\n   */\n  fn.initEvent = () => {\n    fn.elementAppend();\n    fn.contextmenu();\n    fn.menuEvent();\n  }\n\n  /**\n   * 预置元素设定\n   */\n  fn.elementAppend = () => {\n    // 阅读模式\n    if (_readBkg) _readBkg.parentNode.removeChild(_readBkg);\n    const readBkg = document.createElement(\"div\");\n    readBkg.className = \"common_read_bkg common_read_hide\";\n    readBkg.id = \"read_bkg\";\n    window.document.body.appendChild(readBkg);\n  }\n\n  /**\n   * 右键菜单位置设定\n   * @param {*} event\n   */\n  fn.menuPosition = (event) => {\n    try {\n      let mouseClientX = event.clientX;\n      let mouseClientY = event.clientY;\n      let screenWidth = document.documentElement.clientWidth || document.body.clientWidth;\n      let screenHeight = document.documentElement.clientHeight || document.body.clientHeight;\n\n      _rightMenuWrapper.style.display = 'block';\n      fn.menuControl(event);\n\n      let menuWidth = _rightMenuContent.offsetWidth;\n      let menuHeight = _rightMenuContent.offsetHeight;\n      let showLeft = mouseClientX + menuWidth > screenWidth ? mouseClientX - menuWidth + 10 : mouseClientX;\n      let showTop = mouseClientY + menuHeight > screenHeight ? mouseClientY - menuHeight + 10 : mouseClientY;\n      showTop = mouseClientY + menuHeight > screenHeight && showTop < menuHeight && mouseClientY < menuHeight ?\n        showTop + (screenHeight - menuHeight - showTop - 10) : showTop;\n      _rightMenuWrapper.style.left = `${showLeft}px`;\n      _rightMenuWrapper.style.top = `${showTop}px`;\n      if (volantis.GLOBAL_CONFIG.plugins.message.rightmenu.notice) fn.menuNotic();\n    } catch (error) {\n      console.error(error);\n      fn.hideMenu();\n      return true;\n    }\n    return false;\n  }\n\n  /**\n   * 菜单项控制\n   * @param {*} event\n   */\n  fn.menuControl = (event) => {\n    fn.globalDataSet(event);\n    if (!!_menuMusic) _menuMusic.style.display = globalData.isShowMusic ? 'block' : 'none';\n    _rightMenuList.forEach(item => {\n      item.style.display = 'none';\n      const nodeName = item.firstElementChild.nodeName;\n      const groupName = item.firstElementChild.getAttribute('data-group');\n      const itemEvent = item.firstElementChild.getAttribute('data-event');\n      if (globalData.statusCheck || globalData.isArticle) {\n        switch (groupName) {\n          case 'inputBox':\n            if (globalData.isInputBox) {\n              item.style.display = 'block';\n              if (itemEvent === 'copyCut' && !globalData.selectText) item.style.display = 'none';\n              if (itemEvent === 'copyAll' && !globalData.inputValue) item.style.display = 'none';\n              if (itemEvent === 'copyPaste' && !globalData.isReadClipboard) item.style.display = 'none';\n            }\n            break;\n          case 'seletctText':\n            if (!!globalData.selectText) item.style.display = 'block';\n            break;\n          case 'elementCheck':\n            if (globalData.isLink || globalData.isMediaLink) item.style.display = 'block';\n            break;\n          case 'elementImage':\n            if (globalData.isImage) item.style.display = 'block';\n            break;\n          case 'articlePage':\n            if (globalData.isArticle) item.style.display = 'block';\n            break;\n          default:\n            item.style.display = nodeName === 'A'\n              ? globalData.isArticle && !globalData.statusCheck && rightMenuConfig.options.articleShowLink\n                ? 'block'\n                : 'none'\n              : 'block';\n            break;\n        }\n      } else if (nodeName === 'A' || RightMenus.defaultGroup.every(item => { return groupName !== item })) {\n        item.style.display = 'block';\n      }\n    })\n\n    // 执行外部事件\n    volantis.mouseEvent = event;\n    volantis.rightmenu.method.handle.start()\n\n    // 过滤 HR 元素\n    let elementHrItem = { item: null, hide: true };\n    _rightMenuListWithHr.forEach((item) => {\n      if (item.nodeName === \"HR\") {\n        item.style.display = 'block';\n        if (!elementHrItem.item) {\n          elementHrItem.item = item;\n          return;\n        }\n        if (elementHrItem.hide || elementHrItem.item.nextElementSibling.nodeName === \"hr\") {\n          elementHrItem.item.style.display = 'none';\n        }\n        elementHrItem.item = item;\n        elementHrItem.hide = true;\n      } else {\n        if (item.style.display === 'block' && elementHrItem.hide) {\n          elementHrItem.hide = false;\n        }\n      }\n    })\n    if (!!elementHrItem.item && elementHrItem.hide) elementHrItem.item.style.display = 'none';\n  }\n\n  /**\n   * 元素状态判断/全局数据设置\n   * @param {*} event\n   */\n  fn.globalDataSet = (event) => {\n    globalData = Object.assign({}, globalDataBackup);\n    globalData.mouseEvent = event;\n    globalData.selectText = window.getSelection().toString();\n\n    // 判断是否为输入框\n    if (event.target.tagName.toLowerCase() === 'input' || event.target.tagName.toLowerCase() === 'textarea') {\n      globalData.isInputBox = true;\n      globalData.inputValue = event.target.value;\n    }\n\n    // 判断是否允许读取剪切板\n    if (globalData.isInputBox && window.clipboardRead === false) {\n      globalData.isReadClipboard = false;\n    }\n\n    // 判断是否包含链接\n    if (!!event.target.href && RightMenus.urlRegx.test(event.target.href)) {\n      globalData.isLink = true;\n      globalData.linkUrl = event.target.href;\n    }\n\n    // 判断是否包含媒体链接\n    if (!!event.target.currentSrc && RightMenus.urlRegx.test(event.target.currentSrc)) {\n      globalData.isMediaLink = true;\n      globalData.mediaLinkUrl = event.target.currentSrc;\n    }\n\n    // 判断是否为图片地址\n    if (globalData.isMediaLink && RightMenus.imgRegx.test(globalData.mediaLinkUrl)) {\n      globalData.isImage = true;\n    }\n\n    // 判断是否为文章页面\n    if (!!(document.querySelector('#post.article') || null)) {\n      globalData.isArticle = true;\n      globalData.pathName = window.location.pathname;\n    }\n\n    // 判断是否显示音乐控制器\n    if (volantis.GLOBAL_CONFIG.plugins.aplayer?.enable\n      && typeof RightMenuAplayer !== 'undefined'\n      && RightMenuAplayer.APlayer.player !== undefined) {\n      if (rightMenuConfig.options.musicAlwaysShow\n        || RightMenuAplayer.APlayer.status === 'play'\n        || RightMenuAplayer.APlayer.status === 'undefined') {\n        globalData.isShowMusic = true;\n      }\n    }\n\n    // 设定校验状态\n    if (!!globalData.selectText || globalData.isInputBox || globalData.isLink || globalData.isMediaLink) {\n      globalData.statusCheck = true;\n    }\n  }\n\n  /**\n   * 全局右键监听函数\n   */\n  fn.contextmenu = () => {\n    window.document.oncontextmenu = (event) => {\n      if (event.ctrlKey || document.body.offsetWidth <= 500) {\n        fn.hideMenu();\n        return true;\n      }\n      return fn.menuPosition(event);\n    }\n\n    _rightMenuWrapper.oncontextmenu = (event) => {\n      event.stopPropagation();\n      event.preventDefault();\n      return false;\n    }\n\n    window.removeEventListener('blur', fn.hideMenu);\n    window.addEventListener('blur', fn.hideMenu);\n    document.body.removeEventListener('click', fn.hideMenu);\n    document.body.addEventListener('click', fn.hideMenu);\n  }\n\n  /**\n   * 菜单项事件处理函数\n   */\n  fn.menuEvent = () => {\n    _rightMenuList.forEach(item => {\n      let eventName = item.firstElementChild.getAttribute('data-event');\n      const id = item.firstElementChild.getAttribute('id');\n      const groupName = item.firstElementChild.getAttribute('data-group');\n      if (item.firstElementChild.nodeName === \"A\") return;\n      item.addEventListener('click', () => {\n        try {\n          if (RightMenus.defaultEvent.every(item => { return eventName !== item })) {\n            if (groupName === 'seletctText') {\n              RightMenusFunction[id](globalData.selectText)\n            } else if (groupName === 'elementCheck') {\n              RightMenusFunction[id](globalData.isLink ? globalData.linkUrl : globalData.mediaLinkUrl)\n            } else if (groupName === 'elementImage') {\n              RightMenusFunction[id](globalData.mediaLinkUrl)\n            } else {\n              RightMenusFunction[id]()\n            }\n          } else {\n            fn[eventName]()\n          }\n        } catch (error) {\n          if (volantis.GLOBAL_CONFIG.debug === \"rightMenus\") {\n            console.error({\n              id: id,\n              error: error,\n              globalData: globalData,\n              groupName: groupName,\n              eventName: eventName\n            });\n          }\n          if (RightMenus.messageRightMenu) {\n            VolantisApp.message('错误提示', error, {\n              icon: rightMenuConfig.options.iconPrefix + ' fa-exclamation-square red',\n              time: '15000'\n            });\n          }\n        }\n      })\n    })\n\n    if (_forward && _toggle && _forward) {\n      _backward.onclick = (e) => {\n        e.preventDefault();\n        e.stopPropagation();\n        RightMenuAplayer.aplayerBackward();\n      }\n      _toggle.onclick = (e) => {\n        e.preventDefault();\n        e.stopPropagation();\n        RightMenuAplayer.aplayerToggle();\n      }\n      _forward.onclick = (e) => {\n        e.preventDefault();\n        e.stopPropagation();\n        RightMenuAplayer.aplayerForward();\n      }\n    }\n  }\n\n  /**\n   * 隐藏菜单显示\n   */\n  fn.hideMenu = () => {\n    _rightMenuWrapper.style.display = null;\n    _rightMenuWrapper.style.left = null;\n    _rightMenuWrapper.style.top = null;\n  }\n\n  /**\n   * 右键菜单覆盖提示\n   */\n  fn.menuNotic = () => {\n    const NoticeRightMenu = localStorage.getItem('NoticeRightMenu') === 'true';\n    if (RightMenus.messageRightMenu && !NoticeRightMenu)\n      VolantisApp.message('右键菜单', '唤醒原系统菜单请使用：<kbd>Ctrl</kbd> + <kbd>右键</kbd>', {\n        icon: rightMenuConfig.options.iconPrefix + ' fa-exclamation-square red',\n        displayMode: 1,\n        time: 9000\n      }, () => {\n        localStorage.setItem('NoticeRightMenu', 'true')\n      });\n  }\n\n  fn.copyText = () => {\n    VolantisApp.utilWriteClipText(globalData.selectText)\n      .then(() => {\n        if (RightMenus.messageRightMenu) {\n          VolantisApp.messageCopyright();\n        }\n      }).catch(e => {\n        if (RightMenus.messageRightMenu) {\n          VolantisApp.message('系统提示', e, {\n            icon: rightMenuConfig.options.iconPrefix + ' fa-exclamation-square red',\n            displayMode: 1,\n            time: 9000\n          });\n        }\n      })\n  }\n\n  fn.copyLink = () => {\n    VolantisApp.utilWriteClipText(globalData.linkUrl || globalData.mediaLinkUrl)\n      .then(() => {\n        if (RightMenus.messageRightMenu) {\n          VolantisApp.messageCopyright();\n        }\n      }).catch(e => {\n        if (RightMenus.messageRightMenu) {\n          VolantisApp.message('系统提示', e, {\n            icon: rightMenuConfig.options.iconPrefix + ' fa-exclamation-square red',\n            displayMode: 1,\n            time: 9000\n          });\n        }\n      })\n  }\n\n  fn.copyAll = () => {\n    globalData.mouseEvent.target.select();\n  }\n\n  fn.copyPaste = async () => {\n    const result = await RightMenus.readClipboard() || '';\n    if (RightMenus.messageRightMenu && window.clipboardRead === false) {\n      VolantisApp.message('系统提示', '未授予剪切板读取权限！');\n    } else if (RightMenus.messageRightMenu && result === '') {\n      VolantisApp.message('系统提示', '仅支持复制文本内容！');\n    } else {\n      RightMenus.insertAtCaret(globalData.mouseEvent.target, result);\n    }\n  }\n\n  fn.copyCut = () => {\n    const statrPos = globalData.mouseEvent.target.selectionStart;\n    const endPos = globalData.mouseEvent.target.selectionEnd;\n    const inputStr = globalData.inputValue;\n    fn.copyText(globalData.selectText);\n    globalData.mouseEvent.target.value = inputStr.substring(0, statrPos) + inputStr.substring(endPos, inputStr.length);\n    globalData.mouseEvent.target.selectionStart = statrPos;\n    globalData.mouseEvent.target.selectionEnd = statrPos;\n    globalData.mouseEvent.target.focus();\n  }\n\n  fn.copyImg = () => {\n    if (volantis.GLOBAL_CONFIG.plugins.message.rightmenu.notice) {\n      VolantisApp.message('系统提示', '复制中，请等待。', {\n        icon: rightMenuConfig.options.iconPrefix + ' fa-images'\n      })\n    }\n    RightMenus.writeClipImg(globalData.mediaLinkUrl, e => {\n      if (RightMenus.messageRightMenu) {\n        VolantisApp.hideMessage();\n        VolantisApp.message('系统提示', '图片复制成功！', {\n          icon: rightMenuConfig.options.iconPrefix + ' fa-images'\n        });\n      }\n    }, (e) => {\n      console.error(e);\n      if (RightMenus.messageRightMenu) {\n        VolantisApp.hideMessage();\n        VolantisApp.message('系统提示', '复制失败：' + e, {\n          icon: rightMenuConfig.options.iconPrefix + ' fa-exclamation-square red',\n          time: 9000\n        });\n      }\n    })\n  }\n\n  fn.printMode = () => {\n    if (window.location.pathname === globalData.pathName) {\n      if (RightMenus.messageRightMenu) {\n        const message = '是否打印当前页面？<br><em style=\"font-size: 80%\">建议打印时勾选背景图形</em><br>'\n        VolantisApp.question('', message, { time: 9000 }, () => { fn.printHtml() })\n      } else {\n        fn.printHtml()\n      }\n    }\n  }\n\n  fn.printHtml = () => {\n    if (volantis.isReadModel) fn.readMode();\n    DOMController.setAttribute('details', 'open', 'true');\n    DOMController.removeList([\n      '.cus-article-bkg', '.iziToast-overlay', '.iziToast-wrapper', '.prev-next',\n      'footer', '#l_header', '#l_cover', '#l_side', '#comments', '#s-top', '#BKG',\n      '#rightmenu-wrapper', '.nav-tabs', '.parallax-mirror', '.new-meta-item.share', 'div.footer'\n    ]);\n    DOMController.setStyleList([\n      ['body', 'backgroundColor', 'unset'], ['#l_main', 'width', '100%'], ['#post', 'boxShadow', 'none'],\n      ['#post', 'background', 'none'], ['#post', 'padding', '0'], ['h1', 'textAlign', 'center'],\n      ['h1', 'fontWeight', '600'], ['h1', 'fontSize', '2rem'], ['h1', 'marginBottom', '20px'],\n      ['.tab-pane', 'display', 'block'], ['.tab-content', 'borderTop', 'none'], ['.highlight>table pre', 'whiteSpace', 'pre-wrap'],\n      ['.highlight>table pre', 'wordBreak', 'break-all'], ['.fancybox img', 'height', 'auto'], ['.fancybox img', 'weight', 'auto']\n    ]);\n    setTimeout(() => {\n      window.print();\n      document.body.innerHTML = '';\n      window.location.reload();\n    }, 50);\n  }\n\n  fn.readMode = () => {\n    if (typeof ScrollReveal === 'function') ScrollReveal().clean('#comments');\n    DOMController.fadeToggleList([  \n      document.querySelector('#l_header'), document.querySelector('footer'),  \n      document.querySelector('#s-top'), document.querySelector('.article-meta#bottom'),  \n      document.querySelector('.prev-next'), document.querySelector('#l_side'),  \n      document.querySelector('#comments')  \n    ]);  \n    DOMController.toggleClassList([  \n      [document.querySelector('#l_main'), 'common_read'], [document.querySelector('#l_main'), 'common_read_main'],  \n      [document.querySelector('#l_body'), 'common_read'], [document.querySelector('#safearea'), 'common_read'],  \n      [document.querySelector('#pjax-container'), 'common_read'], [document.querySelector('#read_bkg'), 'common_read_hide'],  \n      [document.querySelector('h1'), 'common_read_h1'], [document.querySelector('#post'), 'post_read'],  \n      [document.querySelector('#l_cover'), 'read_cover'], [document.querySelector('.widget.toc-wrapper'), 'post_read']  \n    ]);\n    DOMController.setStyle('.copyright.license', 'margin', '15px 0'); \n    volantis.isReadModel = volantis.isReadModel === undefined ? true : !volantis.isReadModel;\n    if (volantis.isReadModel) {\n      if (RightMenus.messageRightMenu) VolantisApp.message('系统提示', '阅读模式已开启，您可以点击屏幕空白处退出。', {\n        backgroundColor: 'var(--color-read-post)',\n        icon: rightMenuConfig.options.iconPrefix + ' fa-book-reader',\n        displayMode: 1,\n        time: 5000\n      });\n      document.querySelector('#l_body').removeEventListener('click', fn.readMode);\n      document.querySelector('#l_body').addEventListener('click', (event) => {\n        if (DOMController.hasClass(event.target, 'common_read')) {\n          fn.readMode();\n        }\n      });\n    } else {\n      document.querySelector('#l_body').removeEventListener('click', fn.readMode);\n      document.querySelector('#post').removeEventListener('click', fn.readMode);\n      DOMController.setStyle('.prev-next', 'display', 'flex'); \n      DOMController.setStyle('.copyright.license', 'margin', '15px -40px'); \n    }\n  }\n\n  return {\n    init: fn.initEvent,\n    hideMenu: fn.hideMenu,\n    readMode: fn.readMode\n  }\n})()\n\nObject.freeze(RightMenus);\nvolantis.requestAnimationFrame(() => {\n  if (document.readyState !== 'loading') {\n    RightMenus.initialMenu();\n  } else {\n    document.addEventListener(\"DOMContentLoaded\", function () {\n      RightMenus.initialMenu();\n    })\n  }\n});\n"]}